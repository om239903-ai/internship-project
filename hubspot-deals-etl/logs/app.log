{"timestamp": "2025-09-29T11:21:03.863578Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:21:03.868719Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:21:03.870600Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:03.976385Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,975"}
{"timestamp": "2025-09-29T11:21:03.978170Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,977"}
{"timestamp": "2025-09-29T11:21:03.981950Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,980"}
{"timestamp": "2025-09-29T11:21:03.983908Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,982"}
{"timestamp": "2025-09-29T11:21:03.987862Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,986"}
{"timestamp": "2025-09-29T11:21:03.989636Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,988"}
{"timestamp": "2025-09-29T11:21:03.993148Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,991"}
{"timestamp": "2025-09-29T11:21:03.994840Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,993"}
{"timestamp": "2025-09-29T11:21:03.996692Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00346s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,995"}
{"timestamp": "2025-09-29T11:21:03.999690Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:03,998"}
{"timestamp": "2025-09-29T11:21:04.002085Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.003577Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.005281Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 59, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.008023Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,006"}
{"timestamp": "2025-09-29T11:21:04.013848Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,012"}
{"timestamp": "2025-09-29T11:21:04.016247Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00218s] {'table_name': 'jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,014"}
{"timestamp": "2025-09-29T11:21:04.027127Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,026"}
{"timestamp": "2025-09-29T11:21:04.029306Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.0153s ago] {'table_name': 'job_checkpoints', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,027"}
{"timestamp": "2025-09-29T11:21:04.033413Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE jobs (\n\tid VARCHAR(255) NOT NULL, \n\t\"organizationId\" VARCHAR(255) NOT NULL, \n\ttype VARCHAR(50) NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\t\"startTime\" TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\t\"endTime\" TIMESTAMP WITH TIME ZONE, \n\t\"lastHeartbeat\" TIMESTAMP WITH TIME ZONE, \n\t\"recordsExtracted\" INTEGER, \n\t\"errorMessage\" TEXT, \n\tconfig JSON, \n\tjob_metadata JSON, \n\tPRIMARY KEY (id)\n)\n\n", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,032"}
{"timestamp": "2025-09-29T11:21:04.036208Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[no key 0.00257s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,034"}
{"timestamp": "2025-09-29T11:21:04.061403Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "CREATE INDEX \"ix_jobs_organizationId\" ON jobs (\"organizationId\")", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,060"}
{"timestamp": "2025-09-29T11:21:04.063975Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[no key 0.00164s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,062"}
{"timestamp": "2025-09-29T11:21:04.076423Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE job_checkpoints (\n\tid SERIAL NOT NULL, \n\tjob_id VARCHAR(255) NOT NULL, \n\t\"createdAt\" TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tphase VARCHAR(50) NOT NULL, \n\t\"recordsProcessed\" INTEGER, \n\t\"totalEstimated\" INTEGER, \n\tcursor VARCHAR(500), \n\t\"pageNumber\" INTEGER, \n\t\"batchSize\" INTEGER, \n\t\"lastProcessedId\" VARCHAR(255), \n\t\"lastProcessedTimestamp\" TIMESTAMP WITH TIME ZONE, \n\tcheckpoint_data JSON, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(job_id) REFERENCES jobs (id)\n)\n\n", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,074"}
{"timestamp": "2025-09-29T11:21:04.078153Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[no key 0.00286s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,077"}
{"timestamp": "2025-09-29T11:21:04.103901Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "CREATE INDEX ix_job_checkpoints_job_id ON job_checkpoints (job_id)", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,102"}
{"timestamp": "2025-09-29T11:21:04.105726Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[no key 0.00192s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,104"}
{"timestamp": "2025-09-29T11:21:04.115217Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:04,113"}
{"timestamp": "2025-09-29T11:21:04.122199Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 108, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.123525Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.125106Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.126878Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 253, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:04.129188Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:21:04.130647Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:21:04.137215Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:21:05.458261Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:21:05.461165Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:21:05.462554Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.540950Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,539"}
{"timestamp": "2025-09-29T11:21:05.542611Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,541"}
{"timestamp": "2025-09-29T11:21:05.545484Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,544"}
{"timestamp": "2025-09-29T11:21:05.547156Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,545"}
{"timestamp": "2025-09-29T11:21:05.549905Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,548"}
{"timestamp": "2025-09-29T11:21:05.552070Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,550"}
{"timestamp": "2025-09-29T11:21:05.555952Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,554"}
{"timestamp": "2025-09-29T11:21:05.557586Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,556"}
{"timestamp": "2025-09-29T11:21:05.559293Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00350s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,558"}
{"timestamp": "2025-09-29T11:21:05.561800Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "module": "base", "function": "_connection_rollback_impl", "line": 2688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,560"}
{"timestamp": "2025-09-29T11:21:05.563689Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.565079Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.566834Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 59, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.569571Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,568"}
{"timestamp": "2025-09-29T11:21:05.574838Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,573"}
{"timestamp": "2025-09-29T11:21:05.576621Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00174s] {'table_name': 'jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,575"}
{"timestamp": "2025-09-29T11:21:05.583884Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,582"}
{"timestamp": "2025-09-29T11:21:05.585850Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.01093s ago] {'table_name': 'job_checkpoints', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,584"}
{"timestamp": "2025-09-29T11:21:05.589120Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:05,588"}
{"timestamp": "2025-09-29T11:21:05.591817Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 108, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.593384Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.594965Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.596260Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 253, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:05.599004Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:21:05.601422Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:21:05.605144Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:21:05.632036Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:07.639404Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "35e801af-e5bd-4a09-87de-ff8fc1f53a0d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:21:07.794456Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:07,793"}
{"timestamp": "2025-09-29T11:21:07.796481Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:07,795"}
{"timestamp": "2025-09-29T11:21:07.797916Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00172s] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:07,796"}
{"timestamp": "2025-09-29T11:21:07.800650Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:07,799"}
{"timestamp": "2025-09-29T11:21:07.802529Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:07.803936Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "35e801af-e5bd-4a09-87de-ff8fc1f53a0d", "status": "healthy"}
{"timestamp": "2025-09-29T11:21:07.805727Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "35e801af-e5bd-4a09-87de-ff8fc1f53a0d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 166.47, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:21:12.150442Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5cf2cc35-acf4-4205-a505-3dfa33aacff3", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "index"}
{"timestamp": "2025-09-29T11:21:12.152307Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET / - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5cf2cc35-acf4-4205-a505-3dfa33aacff3", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/", "status_code": 200, "duration_ms": 2.06, "response_size": 435, "content_type": "application/json", "endpoint": "index"}
{"timestamp": "2025-09-29T11:21:12.289398Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /favicon.ico", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4f9ab72d-96e5-4aa0-829a-8fe3c2fe6493", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/favicon.ico", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": null}
{"timestamp": "2025-09-29T11:21:12.294329Z", "level": "INFO", "logger": "app.error", "message": "Not Found: GET /favicon.ico", "module": "loki_logger", "function": "handle_not_found", "line": 525, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4f9ab72d-96e5-4aa0-829a-8fe3c2fe6493", "operation": "error_404", "debug_process": "error_handling", "debug_step": "not_found", "method": "GET", "path": "/favicon.ico", "error_code": 404, "remote_addr": "172.18.0.1"}
{"timestamp": "2025-09-29T11:21:12.297790Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: GET /favicon.ico - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4f9ab72d-96e5-4aa0-829a-8fe3c2fe6493", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/favicon.ico", "status_code": 404, "duration_ms": 13.23, "response_size": 80, "content_type": "application/json", "endpoint": null}
{"timestamp": "2025-09-29T11:21:22.510035Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /docs", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e4ab6c68-ae8f-4e2c-9d27-1a14e0822a89", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/docs", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "doc"}
{"timestamp": "2025-09-29T11:21:22.528042Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /docs - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e4ab6c68-ae8f-4e2c-9d27-1a14e0822a89", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/docs", "status_code": 200, "duration_ms": 18.93, "response_size": 3819, "content_type": "text/html; charset=utf-8", "endpoint": "doc"}
{"timestamp": "2025-09-29T11:21:22.551204Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /swaggerui/droid-sans.css", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "836242bb-2af5-4de1-8bbd-fde366af98d7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/swaggerui/droid-sans.css", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.558137Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /swaggerui/swagger-ui.css", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9b18fb3e-aa34-405e-ad4d-e5e6701ae527", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/swaggerui/swagger-ui.css", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.560302Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /swaggerui/droid-sans.css - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "836242bb-2af5-4de1-8bbd-fde366af98d7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/swaggerui/droid-sans.css", "status_code": 200, "duration_ms": 13.77, "response_size": "passthrough", "content_type": "text/css; charset=utf-8", "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.567576Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /swaggerui/swagger-ui.css - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9b18fb3e-aa34-405e-ad4d-e5e6701ae527", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/swaggerui/swagger-ui.css", "status_code": 200, "duration_ms": 11.38, "response_size": "passthrough", "content_type": "text/css; charset=utf-8", "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.572254Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /swaggerui/swagger-ui-bundle.js", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "336b9bdd-c37c-4446-8b42-d8dcb7b8a0a2", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/swaggerui/swagger-ui-bundle.js", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.575748Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /swaggerui/swagger-ui-standalone-preset.js", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e5700253-3b3c-4a4a-986b-09e981dba9e4", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/swaggerui/swagger-ui-standalone-preset.js", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.580076Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /swaggerui/swagger-ui-bundle.js - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "336b9bdd-c37c-4446-8b42-d8dcb7b8a0a2", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/swaggerui/swagger-ui-bundle.js", "status_code": 200, "duration_ms": 9.01, "response_size": "passthrough", "content_type": "application/javascript; charset=utf-8", "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.584811Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /swaggerui/swagger-ui-standalone-preset.js - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e5700253-3b3c-4a4a-986b-09e981dba9e4", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/swaggerui/swagger-ui-standalone-preset.js", "status_code": 200, "duration_ms": 7.14, "response_size": "passthrough", "content_type": "application/javascript; charset=utf-8", "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.849634Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/swagger.json", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1a1f599e-efe7-45b3-99cf-79ec3d845dc7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/swagger.json", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "specs"}
{"timestamp": "2025-09-29T11:21:22.859116Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/swagger.json - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1a1f599e-efe7-45b3-99cf-79ec3d845dc7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/swagger.json", "status_code": 200, "duration_ms": 9.66, "response_size": 18048, "content_type": "application/json", "endpoint": "specs"}
{"timestamp": "2025-09-29T11:21:22.871373Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /swaggerui/favicon-32x32.png", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "62630131-89bf-43e4-adea-f8813be87289", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/swaggerui/favicon-32x32.png", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:22.874907Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /swaggerui/favicon-32x32.png - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "62630131-89bf-43e4-adea-f8813be87289", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/swaggerui/favicon-32x32.png", "status_code": 200, "duration_ms": 6.91, "response_size": "passthrough", "content_type": "image/png", "endpoint": "restx_doc.static"}
{"timestamp": "2025-09-29T11:21:37.904947Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "81715f05-45b3-4c57-b5c2-99a899678429", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:21:37.929481Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:37,928"}
{"timestamp": "2025-09-29T11:21:37.931698Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:37,930"}
{"timestamp": "2025-09-29T11:21:37.933470Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 30.14s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:37,932"}
{"timestamp": "2025-09-29T11:21:37.936511Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:21:37,934"}
{"timestamp": "2025-09-29T11:21:37.938659Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:21:37.940486Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "81715f05-45b3-4c57-b5c2-99a899678429", "status": "healthy"}
{"timestamp": "2025-09-29T11:21:37.943008Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "81715f05-45b3-4c57-b5c2-99a899678429", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 37.42, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:22:03.314504Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c0781735-4dc5-4ce6-9c86-031ace7991d5", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 215, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:22:03.316263Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c0781735-4dc5-4ce6-9c86-031ace7991d5", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:22:03.328889Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,327"}
{"timestamp": "2025-09-29T11:22:03.332749Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,331"}
{"timestamp": "2025-09-29T11:22:03.334296Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00153s] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,333"}
{"timestamp": "2025-09-29T11:22:03.340569Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,339"}
{"timestamp": "2025-09-29T11:22:03.344798Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:22:03.346687Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c0781735-4dc5-4ce6-9c86-031ace7991d5", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:22:03.348234Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:22:03.349737Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:22:03.351518Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:22:03.353263Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c0781735-4dc5-4ce6-9c86-031ace7991d5", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 37.47, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:22:03.355078Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.358334Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,356"}
{"timestamp": "2025-09-29T11:22:03.361793Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,359"}
{"timestamp": "2025-09-29T11:22:03.363790Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 55.57s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,362"}
{"timestamp": "2025-09-29T11:22:03.366508Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,365"}
{"timestamp": "2025-09-29T11:22:03.368960Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:22:03.371951Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,370"}
{"timestamp": "2025-09-29T11:22:03.374468Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,372"}
{"timestamp": "2025-09-29T11:22:03.377085Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.04347s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,375"}
{"timestamp": "2025-09-29T11:22:03.380080Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.381666Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,380"}
{"timestamp": "2025-09-29T11:22:03.384168Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:22:03.385603Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:22:03.520157Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,519"}
{"timestamp": "2025-09-29T11:22:03.523633Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO jobs (id, \"organizationId\", type, status, \"endTime\", \"lastHeartbeat\", \"recordsExtracted\", \"errorMessage\", config) VALUES (%(id)s, %(organizationId)s, %(type)s, %(status)s, %(endTime)s, %(lastHeartbeat)s, %(recordsExtracted)s, %(errorMessage)s, %(config)s) RETURNING jobs.\"startTime\"", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,522"}
{"timestamp": "2025-09-29T11:22:03.526808Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00192s] {'id': 'hubspot-users-scan-2025-001', 'organizationId': 'org-12345', 'type': 'user', 'status': 'pending', 'endTime': None, 'lastHeartbeat': None, 'recordsExtracted': 0, 'errorMessage': None, 'config': '{\"auth\": \"Z0FBQUFBQm8ybXZicDR5ZWtPTUdYbFloTTJfNFpjOVFmOHhHcjJGWUFuZmhralk5LUdFdlNEb1VFOUdKckFRY19Ybk1IOWVRSXlsTDhPSG1mb01pMmp3TkhOeGZWUEVZTHBPWllGX2NtMXVJUkJCdFNuR1B2TmhoME1jaDFWWS02QmZBRVVlS3c3WlRlM1Z0TURVb1VZNE5yT28tZnlnb3JRPT0=\", \"filters\": {}, \"type\": [\"user\"]}'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,524"}
{"timestamp": "2025-09-29T11:22:03.532182Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:22:03.527764+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybXZicDR5ZWtPTUdYbFloTTJfNFpjOVFmOHhHcjJGWUFuZmhralk5LUdFdlNEb1VFOUdKckFRY19Ybk1IOWVRSXlsTDhPSG1mb01pMmp3TkhOeGZWUEVZTHBPWllGX2NtMXVJUkJCdFNuR1B2TmhoME1jaDFWWS02QmZBRVVlS3c3WlRlM1Z0TURVb1VZNE5yT28tZnlnb3JRPT0=", "filters": {}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:22:03.533668Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:22:03.535153Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:22:03.536973Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,535"}
{"timestamp": "2025-09-29T11:22:03.540765Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.544082Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,542"}
{"timestamp": "2025-09-29T11:22:03.546410Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,545"}
{"timestamp": "2025-09-29T11:22:03.548131Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2153s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,547"}
{"timestamp": "2025-09-29T11:22:03.552085Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET status=%(status)s WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,550"}
{"timestamp": "2025-09-29T11:22:03.553639Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00165s] {'status': 'running', 'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,552"}
{"timestamp": "2025-09-29T11:22:03.557282Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:22:03.558800Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,557"}
{"timestamp": "2025-09-29T11:22:03.562933Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,562"}
{"timestamp": "2025-09-29T11:22:03.564922Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,563"}
{"timestamp": "2025-09-29T11:22:03.566448Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.2337s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,565"}
{"timestamp": "2025-09-29T11:22:03.571073Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET \"lastHeartbeat\"=now() WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,569"}
{"timestamp": "2025-09-29T11:22:03.573804Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00221s] {'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,571"}
{"timestamp": "2025-09-29T11:22:03.577935Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.581786Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,580"}
{"timestamp": "2025-09-29T11:22:03.583676Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00185s] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,582"}
{"timestamp": "2025-09-29T11:22:03.586333Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,585"}
{"timestamp": "2025-09-29T11:22:03.590388Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.593189Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,592"}
{"timestamp": "2025-09-29T11:22:03.595185Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,594"}
{"timestamp": "2025-09-29T11:22:03.597143Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.264s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,595"}
{"timestamp": "2025-09-29T11:22:03.600480Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:22:03.602936Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:22:03.605150Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:22:03.608553Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,606"}
{"timestamp": "2025-09-29T11:22:03.611921Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.615270Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,613"}
{"timestamp": "2025-09-29T11:22:03.623091Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT job_checkpoints.id AS job_checkpoints_id, job_checkpoints.job_id AS job_checkpoints_job_id, job_checkpoints.\"createdAt\" AS \"job_checkpoints_createdAt\", job_checkpoints.phase AS job_checkpoints_phase, job_checkpoints.\"recordsProcessed\" AS \"job_checkpoints_recordsProcessed\", job_checkpoints.\"totalEstimated\" AS \"job_checkpoints_totalEstimated\", job_checkpoints.cursor AS job_checkpoints_cursor, job_checkpoints.\"pageNumber\" AS \"job_checkpoints_pageNumber\", job_checkpoints.\"batchSize\" AS \"job_checkpoints_batchSize\", job_checkpoints.\"lastProcessedId\" AS \"job_checkpoints_lastProcessedId\", job_checkpoints.\"lastProcessedTimestamp\" AS \"job_checkpoints_lastProcessedTimestamp\", job_checkpoints.checkpoint_data AS job_checkpoints_checkpoint_data \nFROM job_checkpoints \nWHERE job_checkpoints.job_id = %(job_id_1)s ORDER BY job_checkpoints.\"createdAt\" DESC \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,621"}
{"timestamp": "2025-09-29T11:22:03.625324Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00216s] {'job_id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,623"}
{"timestamp": "2025-09-29T11:22:03.632649Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,631"}
{"timestamp": "2025-09-29T11:22:03.634533Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:22:03.635783Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 44, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": false, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:22:03.663586Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,662"}
{"timestamp": "2025-09-29T11:22:03.666173Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,664"}
{"timestamp": "2025-09-29T11:22:03.667674Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.335s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,666"}
{"timestamp": "2025-09-29T11:22:03.670677Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET \"lastHeartbeat\"=now() WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,669"}
{"timestamp": "2025-09-29T11:22:03.672091Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.1014s ago] {'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,671"}
{"timestamp": "2025-09-29T11:22:03.674145Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.677137Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,675"}
{"timestamp": "2025-09-29T11:22:03.680002Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.0979s ago] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,678"}
{"timestamp": "2025-09-29T11:22:03.683311Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,682"}
{"timestamp": "2025-09-29T11:22:03.686921Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.755949Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 106, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:03.758534Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,757"}
{"timestamp": "2025-09-29T11:22:03.760454Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,759"}
{"timestamp": "2025-09-29T11:22:03.761738Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4292s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,760"}
{"timestamp": "2025-09-29T11:22:03.764364Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:22:03.765756Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,764"}
{"timestamp": "2025-09-29T11:22:03.767755Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:22:03.770078Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,769"}
{"timestamp": "2025-09-29T11:22:03.771768Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,770"}
{"timestamp": "2025-09-29T11:22:03.773275Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.4406s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,772"}
{"timestamp": "2025-09-29T11:22:03.775599Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:22:03.776836Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:03,776"}
{"timestamp": "2025-09-29T11:22:03.778717Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 185, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:22:03.779818Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 202, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 0, "associations_count": 0}
{"timestamp": "2025-09-29T11:22:04.440096Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 301, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "duration_ms": 629.23, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "0e5e594d-1c48-44af-b477-45fbd2fb0717", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:22:04.449426Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 629.23}
{"timestamp": "2025-09-29T11:22:04.459927Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 327, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 196, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:22:04.467737Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,466"}
{"timestamp": "2025-09-29T11:22:04.470947Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO job_checkpoints (job_id, phase, \"recordsProcessed\", \"totalEstimated\", cursor, \"pageNumber\", \"batchSize\", \"lastProcessedId\", \"lastProcessedTimestamp\", checkpoint_data) VALUES (%(job_id)s, %(phase)s, %(recordsProcessed)s, %(totalEstimated)s, %(cursor)s, %(pageNumber)s, %(batchSize)s, %(lastProcessedId)s, %(lastProcessedTimestamp)s, %(checkpoint_data)s) RETURNING job_checkpoints.id, job_checkpoints.\"createdAt\"", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,470"}
{"timestamp": "2025-09-29T11:22:04.472656Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00145s] {'job_id': 'hubspot-users-scan-2025-001', 'phase': 'deals_error', 'recordsProcessed': 0, 'totalEstimated': None, 'cursor': None, 'pageNumber': 0, 'batchSize': 100, 'lastProcessedId': None, 'lastProcessedTimestamp': None, 'checkpoint_data': '{\"service\": \"hubspot_deals\", \"timestamp\": \"2025-09-29T11:22:04.465466+00:00\", \"error\": \"401 Client Error: Unauthorized for url: https://api.hubapi.co ... (99 characters truncated) ... %2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\", \"error_page\": 1, \"recovery_cursor\": null}'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,471"}
{"timestamp": "2025-09-29T11:22:04.476673Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:22:04.477977Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,477"}
{"timestamp": "2025-09-29T11:22:04.482720Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,481"}
{"timestamp": "2025-09-29T11:22:04.484482Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,483"}
{"timestamp": "2025-09-29T11:22:04.486042Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 1.159s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,485"}
{"timestamp": "2025-09-29T11:22:04.489136Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET \"lastHeartbeat\"=now() WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,488"}
{"timestamp": "2025-09-29T11:22:04.490408Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.9255s ago] {'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,489"}
{"timestamp": "2025-09-29T11:22:04.494696Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:22:04.496959Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,495"}
{"timestamp": "2025-09-29T11:22:04.498384Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 0.9227s ago] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,497"}
{"timestamp": "2025-09-29T11:22:04.500997Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,499"}
{"timestamp": "2025-09-29T11:22:04.505732Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 497, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:22:04.544246Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 356, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 196, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:22:04.557657Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,556"}
{"timestamp": "2025-09-29T11:22:04.559900Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,558"}
{"timestamp": "2025-09-29T11:22:04.561899Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 1.234s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,560"}
{"timestamp": "2025-09-29T11:22:04.565516Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET status=%(status)s, \"endTime\"=now(), \"errorMessage\"=%(errorMessage)s, job_metadata=%(job_metadata)s WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,564"}
{"timestamp": "2025-09-29T11:22:04.567163Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00147s] {'status': 'failed', 'errorMessage': \"Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\\n\\n<class 'dlt.extract.exceptio ... (274 characters truncated) ... ies=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\", 'job_metadata': '{\"error_details\": {\"error_type\": \"PipelineStepFailed\", \"error_message\": \"Pipeline execution failed at `step=extract` when processing package with `lo ... (404 characters truncated) ... date%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\", \"failed_at\": \"2025-09-29T11:22:04.555657+00:00\"}}', 'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,566"}
{"timestamp": "2025-09-29T11:22:04.569721Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:22:04.572368Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"endTime\" AS \"jobs_endTime\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,571"}
{"timestamp": "2025-09-29T11:22:04.573935Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00181s] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,572"}
{"timestamp": "2025-09-29T11:22:04.576924Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:04,575"}
{"timestamp": "2025-09-29T11:22:04.582183Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:22:04.583799Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:22:04.585332Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759144923.7506719` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:22:08.061372Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "155ed41e-26b0-4ba9-bc73-2a73c666c0d3", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:22:08.080100Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:08,078"}
{"timestamp": "2025-09-29T11:22:08.082337Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:08,081"}
{"timestamp": "2025-09-29T11:22:08.083945Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 60.3s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:08,082"}
{"timestamp": "2025-09-29T11:22:08.086500Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:08,085"}
{"timestamp": "2025-09-29T11:22:08.088311Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:22:08.089709Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "155ed41e-26b0-4ba9-bc73-2a73c666c0d3", "status": "healthy"}
{"timestamp": "2025-09-29T11:22:08.091385Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "155ed41e-26b0-4ba9-bc73-2a73c666c0d3", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 30.23, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:22:38.209194Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "51cc3849-31fc-42ae-8340-daa82d0788a1", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:22:38.228912Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:38,227"}
{"timestamp": "2025-09-29T11:22:38.230419Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:38,229"}
{"timestamp": "2025-09-29T11:22:38.231946Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 90.45s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:38,230"}
{"timestamp": "2025-09-29T11:22:38.234657Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:38,233"}
{"timestamp": "2025-09-29T11:22:38.236918Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:22:38.238334Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "51cc3849-31fc-42ae-8340-daa82d0788a1", "status": "healthy"}
{"timestamp": "2025-09-29T11:22:38.240766Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "51cc3849-31fc-42ae-8340-daa82d0788a1", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 31.24, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:22:42.321943Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/scan/hubspot-users-scan-2025-001/status", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3ade67f2-f38d-47f2-b815-8f13ff05be18", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:22:42.324974Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,323"}
{"timestamp": "2025-09-29T11:22:42.326683Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,325"}
{"timestamp": "2025-09-29T11:22:42.328185Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 39s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,327"}
{"timestamp": "2025-09-29T11:22:42.341481Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,340"}
{"timestamp": "2025-09-29T11:22:42.343410Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT job_checkpoints.id AS job_checkpoints_id, job_checkpoints.job_id AS job_checkpoints_job_id, job_checkpoints.\"createdAt\" AS \"job_checkpoints_createdAt\", job_checkpoints.phase AS job_checkpoints_phase, job_checkpoints.\"recordsProcessed\" AS \"job_checkpoints_recordsProcessed\", job_checkpoints.\"totalEstimated\" AS \"job_checkpoints_totalEstimated\", job_checkpoints.cursor AS job_checkpoints_cursor, job_checkpoints.\"pageNumber\" AS \"job_checkpoints_pageNumber\", job_checkpoints.\"batchSize\" AS \"job_checkpoints_batchSize\", job_checkpoints.\"lastProcessedId\" AS \"job_checkpoints_lastProcessedId\", job_checkpoints.\"lastProcessedTimestamp\" AS \"job_checkpoints_lastProcessedTimestamp\", job_checkpoints.checkpoint_data AS job_checkpoints_checkpoint_data \nFROM job_checkpoints \nWHERE job_checkpoints.job_id = %(job_id_1)s ORDER BY job_checkpoints.\"createdAt\" DESC \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,342"}
{"timestamp": "2025-09-29T11:22:42.344983Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 38.73s ago] {'job_id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,344"}
{"timestamp": "2025-09-29T11:22:42.354418Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,352"}
{"timestamp": "2025-09-29T11:22:42.356381Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:22:42.358103Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:22:42,356"}
{"timestamp": "2025-09-29T11:22:42.359831Z", "level": "DEBUG", "logger": "api.routes", "message": "Scan status retrieved", "module": "routes", "function": "get", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3ade67f2-f38d-47f2-b815-8f13ff05be18", "scan_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:22:42.361514Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/scan/hubspot-users-scan-2025-001/status - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3ade67f2-f38d-47f2-b815-8f13ff05be18", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "status_code": 200, "duration_ms": 40.55, "response_size": 3417, "content_type": "application/json", "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:23:08.380669Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9cbc88ed-39f0-4ba5-bfa1-f7e722b2aaa5", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:23:08.400616Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:08,399"}
{"timestamp": "2025-09-29T11:23:08.402219Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:08,401"}
{"timestamp": "2025-09-29T11:23:08.403599Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 120.6s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:08,402"}
{"timestamp": "2025-09-29T11:23:08.406115Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:08,404"}
{"timestamp": "2025-09-29T11:23:08.407726Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:23:08.409715Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9cbc88ed-39f0-4ba5-bfa1-f7e722b2aaa5", "status": "healthy"}
{"timestamp": "2025-09-29T11:23:08.412157Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9cbc88ed-39f0-4ba5-bfa1-f7e722b2aaa5", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 31.5, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:23:38.505111Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e04689a5-30a6-4231-839e-1d4e8f297637", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:23:38.524943Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:38,523"}
{"timestamp": "2025-09-29T11:23:38.526811Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:38,525"}
{"timestamp": "2025-09-29T11:23:38.528518Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 150.8s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:38,527"}
{"timestamp": "2025-09-29T11:23:38.530789Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:23:38,529"}
{"timestamp": "2025-09-29T11:23:38.532789Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:23:38.534344Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e04689a5-30a6-4231-839e-1d4e8f297637", "status": "healthy"}
{"timestamp": "2025-09-29T11:23:38.536792Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e04689a5-30a6-4231-839e-1d4e8f297637", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 31.14, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:24:08.633015Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "abbd498a-28d7-4261-a961-b3d256b14e1d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:24:08.651769Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:08,650"}
{"timestamp": "2025-09-29T11:24:08.653832Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:08,652"}
{"timestamp": "2025-09-29T11:24:08.655370Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 180.9s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:08,654"}
{"timestamp": "2025-09-29T11:24:08.657744Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:08,656"}
{"timestamp": "2025-09-29T11:24:08.659474Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:24:08.660862Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "abbd498a-28d7-4261-a961-b3d256b14e1d", "status": "healthy"}
{"timestamp": "2025-09-29T11:24:08.662624Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "abbd498a-28d7-4261-a961-b3d256b14e1d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 29.74, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:24:38.774518Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "26622285-2205-48e3-9f71-b0ef687675f8", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:24:38.795173Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:38,794"}
{"timestamp": "2025-09-29T11:24:38.797371Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:38,795"}
{"timestamp": "2025-09-29T11:24:38.799409Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 211s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:38,797"}
{"timestamp": "2025-09-29T11:24:38.801862Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:24:38,800"}
{"timestamp": "2025-09-29T11:24:38.803838Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:24:38.805013Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "26622285-2205-48e3-9f71-b0ef687675f8", "status": "healthy"}
{"timestamp": "2025-09-29T11:24:38.806964Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "26622285-2205-48e3-9f71-b0ef687675f8", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 32.28, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:25:08.915545Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9a518677-ff8e-4230-9417-0be361820407", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:25:08.936122Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:08,934"}
{"timestamp": "2025-09-29T11:25:08.937806Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:08,936"}
{"timestamp": "2025-09-29T11:25:08.939332Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 241.2s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:08,938"}
{"timestamp": "2025-09-29T11:25:08.941616Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:08,940"}
{"timestamp": "2025-09-29T11:25:08.943394Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:25:08.944772Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9a518677-ff8e-4230-9417-0be361820407", "status": "healthy"}
{"timestamp": "2025-09-29T11:25:08.946535Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9a518677-ff8e-4230-9417-0be361820407", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 30.95, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:25:39.057364Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4b05c3fc-821a-4b7c-91fb-4f7fab353736", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:25:39.076544Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:39,074"}
{"timestamp": "2025-09-29T11:25:39.078251Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:39,077"}
{"timestamp": "2025-09-29T11:25:39.079813Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 271.3s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:39,078"}
{"timestamp": "2025-09-29T11:25:39.082186Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:25:39,081"}
{"timestamp": "2025-09-29T11:25:39.084029Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:25:39.085481Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4b05c3fc-821a-4b7c-91fb-4f7fab353736", "status": "healthy"}
{"timestamp": "2025-09-29T11:25:39.087412Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4b05c3fc-821a-4b7c-91fb-4f7fab353736", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 29.86, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:26:09.200691Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ea40376-a259-47ea-8be1-a27a1a326dd0", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:26:09.220018Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:09,219"}
{"timestamp": "2025-09-29T11:26:09.222053Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:09,220"}
{"timestamp": "2025-09-29T11:26:09.223853Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 301.5s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:09,222"}
{"timestamp": "2025-09-29T11:26:09.226591Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:09,225"}
{"timestamp": "2025-09-29T11:26:09.228608Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:26:09.230048Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ea40376-a259-47ea-8be1-a27a1a326dd0", "status": "healthy"}
{"timestamp": "2025-09-29T11:26:09.232108Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ea40376-a259-47ea-8be1-a27a1a326dd0", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 30.79, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:26:39.347903Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8301fbc7-7958-403a-855d-e8df17b20641", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:26:39.366445Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:39,365"}
{"timestamp": "2025-09-29T11:26:39.368312Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:39,367"}
{"timestamp": "2025-09-29T11:26:39.369896Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 331.6s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:39,368"}
{"timestamp": "2025-09-29T11:26:39.372319Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:26:39,371"}
{"timestamp": "2025-09-29T11:26:39.374026Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:26:39.375361Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8301fbc7-7958-403a-855d-e8df17b20641", "status": "healthy"}
{"timestamp": "2025-09-29T11:26:39.377098Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8301fbc7-7958-403a-855d-e8df17b20641", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 29.34, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:27:09.476455Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5d11e5ad-2573-4578-b26c-eadcbece974a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:27:09.495291Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:09,494"}
{"timestamp": "2025-09-29T11:27:09.497184Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:09,496"}
{"timestamp": "2025-09-29T11:27:09.498725Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 361.7s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:09,497"}
{"timestamp": "2025-09-29T11:27:09.501160Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:09,500"}
{"timestamp": "2025-09-29T11:27:09.502980Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:27:09.504430Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5d11e5ad-2573-4578-b26c-eadcbece974a", "status": "healthy"}
{"timestamp": "2025-09-29T11:27:09.506117Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5d11e5ad-2573-4578-b26c-eadcbece974a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 29.83, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:27:39.579321Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b742c5f7-ddbc-4046-b00e-17b58fa65f5d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:27:39.597249Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:39,596"}
{"timestamp": "2025-09-29T11:27:39.599286Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:39,598"}
{"timestamp": "2025-09-29T11:27:39.601046Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 391.9s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:39,599"}
{"timestamp": "2025-09-29T11:27:39.603652Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:27:39,602"}
{"timestamp": "2025-09-29T11:27:39.605569Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:27:39.607487Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b742c5f7-ddbc-4046-b00e-17b58fa65f5d", "status": "healthy"}
{"timestamp": "2025-09-29T11:27:39.609643Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b742c5f7-ddbc-4046-b00e-17b58fa65f5d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 30.09, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:28:06.402952Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "79eacfd3-5851-48b2-ae46-96711d77e9fe", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:28:06.408428Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,404"}
{"timestamp": "2025-09-29T11:28:06.411144Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,409"}
{"timestamp": "2025-09-29T11:28:06.412596Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 363.1s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,411"}
{"timestamp": "2025-09-29T11:28:06.417072Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,415"}
{"timestamp": "2025-09-29T11:28:06.419336Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT job_checkpoints.id AS job_checkpoints_id, job_checkpoints.job_id AS job_checkpoints_job_id, job_checkpoints.\"createdAt\" AS \"job_checkpoints_createdAt\", job_checkpoints.phase AS job_checkpoints_phase, job_checkpoints.\"recordsProcessed\" AS \"job_checkpoints_recordsProcessed\", job_checkpoints.\"totalEstimated\" AS \"job_checkpoints_totalEstimated\", job_checkpoints.cursor AS job_checkpoints_cursor, job_checkpoints.\"pageNumber\" AS \"job_checkpoints_pageNumber\", job_checkpoints.\"batchSize\" AS \"job_checkpoints_batchSize\", job_checkpoints.\"lastProcessedId\" AS \"job_checkpoints_lastProcessedId\", job_checkpoints.\"lastProcessedTimestamp\" AS \"job_checkpoints_lastProcessedTimestamp\", job_checkpoints.checkpoint_data AS job_checkpoints_checkpoint_data \nFROM job_checkpoints \nWHERE job_checkpoints.job_id = %(job_id_1)s ORDER BY job_checkpoints.\"createdAt\" DESC \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,417"}
{"timestamp": "2025-09-29T11:28:06.421546Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 362.8s ago] {'job_id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,420"}
{"timestamp": "2025-09-29T11:28:06.424344Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,423"}
{"timestamp": "2025-09-29T11:28:06.426314Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:28:06.428025Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,426"}
{"timestamp": "2025-09-29T11:28:06.430561Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,429"}
{"timestamp": "2025-09-29T11:28:06.432397Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,431"}
{"timestamp": "2025-09-29T11:28:06.433917Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 363.1s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,432"}
{"timestamp": "2025-09-29T11:28:06.437715Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:28:06.439352Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,438"}
{"timestamp": "2025-09-29T11:28:06.442158Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,441"}
{"timestamp": "2025-09-29T11:28:06.444545Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "DELETE FROM job_checkpoints WHERE job_checkpoints.job_id = %(job_id_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,443"}
{"timestamp": "2025-09-29T11:28:06.446090Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00156s] {'job_id_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,444"}
{"timestamp": "2025-09-29T11:28:06.448926Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "DELETE FROM jobs WHERE jobs.id = %(id_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,448"}
{"timestamp": "2025-09-29T11:28:06.450402Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00128s] {'id_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,449"}
{"timestamp": "2025-09-29T11:28:06.454074Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:06,453"}
{"timestamp": "2025-09-29T11:28:06.458723Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:28:06.459758Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:06.461203Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:28:06.462465Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:06.463700Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "79eacfd3-5851-48b2-ae46-96711d77e9fe", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:06.464904Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:06.466426Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "79eacfd3-5851-48b2-ae46-96711d77e9fe", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 67.08, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:28:09.378376Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8b910403-a750-498a-9190-220b03b8a255", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:28:09.381778Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,379"}
{"timestamp": "2025-09-29T11:28:09.384522Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,382"}
{"timestamp": "2025-09-29T11:28:09.387649Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 366.1s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,385"}
{"timestamp": "2025-09-29T11:28:09.391058Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,389"}
{"timestamp": "2025-09-29T11:28:09.392985Z", "level": "WARNING", "logger": "api.routes", "message": "Cannot remove scan: not found", "module": "routes", "function": "delete", "line": 659, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8b910403-a750-498a-9190-220b03b8a255", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:09.394638Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8b910403-a750-498a-9190-220b03b8a255", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 404, "duration_ms": 16.37, "response_size": 161, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:28:09.710293Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "97cd9fe7-f379-48d6-ac6f-8655b19bc172", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:28:09.730866Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,729"}
{"timestamp": "2025-09-29T11:28:09.732743Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,731"}
{"timestamp": "2025-09-29T11:28:09.734167Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 422s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,733"}
{"timestamp": "2025-09-29T11:28:09.737432Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:09,736"}
{"timestamp": "2025-09-29T11:28:09.739272Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:28:09.740750Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "97cd9fe7-f379-48d6-ac6f-8655b19bc172", "status": "healthy"}
{"timestamp": "2025-09-29T11:28:09.743437Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "97cd9fe7-f379-48d6-ac6f-8655b19bc172", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 32.53, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:28:21.853340Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5dfdc4a3-53a3-483b-9753-9ad425a1917e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 215, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:28:21.856513Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5dfdc4a3-53a3-483b-9753-9ad425a1917e", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:28:21.859849Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,858"}
{"timestamp": "2025-09-29T11:28:21.861811Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,860"}
{"timestamp": "2025-09-29T11:28:21.863287Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.6s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,862"}
{"timestamp": "2025-09-29T11:28:21.866230Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,864"}
{"timestamp": "2025-09-29T11:28:21.869063Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5dfdc4a3-53a3-483b-9753-9ad425a1917e", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:28:21.870694Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:28:21.872165Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:28:21.874189Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:28:21.875496Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5dfdc4a3-53a3-483b-9753-9ad425a1917e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 22.06, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:28:21.876952Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:28:21.879132Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:21.881347Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,880"}
{"timestamp": "2025-09-29T11:28:21.883412Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,881"}
{"timestamp": "2025-09-29T11:28:21.885764Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 434.1s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,884"}
{"timestamp": "2025-09-29T11:28:21.888246Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,887"}
{"timestamp": "2025-09-29T11:28:21.890366Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:28:21.893146Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,891"}
{"timestamp": "2025-09-29T11:28:21.895489Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,893"}
{"timestamp": "2025-09-29T11:28:21.897295Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.6s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,896"}
{"timestamp": "2025-09-29T11:28:21.900537Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:21.902291Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,901"}
{"timestamp": "2025-09-29T11:28:21.904670Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:28:21.906219Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:28:21.909836Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,908"}
{"timestamp": "2025-09-29T11:28:21.912711Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO jobs (id, \"organizationId\", type, status, \"endTime\", \"lastHeartbeat\", \"recordsExtracted\", \"errorMessage\", config) VALUES (%(id)s, %(organizationId)s, %(type)s, %(status)s, %(endTime)s, %(lastHeartbeat)s, %(recordsExtracted)s, %(errorMessage)s, %(config)s) RETURNING jobs.\"startTime\"", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,911"}
{"timestamp": "2025-09-29T11:28:21.914267Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'id': 'hubspot-users-scan-2025-001', 'organizationId': 'org-12345', 'type': 'user', 'status': 'pending', 'endTime': None, 'lastHeartbeat': None, 'recordsExtracted': 0, 'errorMessage': None, 'config': '{\"auth\": \"Z0FBQUFBQm8ybTFWRVRCU3VFVWV2cU5tVWVEUjEzTC1IWGdIVHAyd05RemRoQlF0bXVqRVVxUnpJeEhsaXlQZ2NINU05N0xyWmNiOTllZVQ0ZWplaFlXMHBWcVpjNGR0SG1JamtpTEVxRDNMdXRuX3R3Ni1jNVF4T3ppVzhqODJRSE9EdmdSNThMeTg2YmplRHJKZUg3Vkd0NHJLUkRjaG9RPT0=\", \"filters\": {}, \"type\": [\"user\"]}'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,913"}
{"timestamp": "2025-09-29T11:28:21.918166Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:28:21.914987+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybTFWRVRCU3VFVWV2cU5tVWVEUjEzTC1IWGdIVHAyd05RemRoQlF0bXVqRVVxUnpJeEhsaXlQZ2NINU05N0xyWmNiOTllZVQ0ZWplaFlXMHBWcVpjNGR0SG1JamtpTEVxRDNMdXRuX3R3Ni1jNVF4T3ppVzhqODJRSE9EdmdSNThMeTg2YmplRHJKZUg3Vkd0NHJLUkRjaG9RPT0=", "filters": {}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:28:21.919623Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:28:21.921596Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:28:21.923078Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,922"}
{"timestamp": "2025-09-29T11:28:21.929225Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:21.931417Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,930"}
{"timestamp": "2025-09-29T11:28:21.934330Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,932"}
{"timestamp": "2025-09-29T11:28:21.936375Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.7s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,935"}
{"timestamp": "2025-09-29T11:28:21.939485Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET status=%(status)s WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,938"}
{"timestamp": "2025-09-29T11:28:21.941053Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'status': 'running', 'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,940"}
{"timestamp": "2025-09-29T11:28:21.943323Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:28:21.944704Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,943"}
{"timestamp": "2025-09-29T11:28:21.948715Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,947"}
{"timestamp": "2025-09-29T11:28:21.951224Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,949"}
{"timestamp": "2025-09-29T11:28:21.953185Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.7s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,951"}
{"timestamp": "2025-09-29T11:28:21.956557Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET \"lastHeartbeat\"=now() WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,955"}
{"timestamp": "2025-09-29T11:28:21.958243Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,957"}
{"timestamp": "2025-09-29T11:28:21.960521Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:21.962454Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,961"}
{"timestamp": "2025-09-29T11:28:21.963855Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,962"}
{"timestamp": "2025-09-29T11:28:21.966816Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,965"}
{"timestamp": "2025-09-29T11:28:21.970120Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:21.972318Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,971"}
{"timestamp": "2025-09-29T11:28:21.974033Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,972"}
{"timestamp": "2025-09-29T11:28:21.975352Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.7s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,974"}
{"timestamp": "2025-09-29T11:28:21.977753Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:28:21.978911Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:28:21.980237Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:28:21.982150Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,981"}
{"timestamp": "2025-09-29T11:28:21.983989Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:21.986070Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,985"}
{"timestamp": "2025-09-29T11:28:21.987853Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT job_checkpoints.id AS job_checkpoints_id, job_checkpoints.job_id AS job_checkpoints_job_id, job_checkpoints.\"createdAt\" AS \"job_checkpoints_createdAt\", job_checkpoints.phase AS job_checkpoints_phase, job_checkpoints.\"recordsProcessed\" AS \"job_checkpoints_recordsProcessed\", job_checkpoints.\"totalEstimated\" AS \"job_checkpoints_totalEstimated\", job_checkpoints.cursor AS job_checkpoints_cursor, job_checkpoints.\"pageNumber\" AS \"job_checkpoints_pageNumber\", job_checkpoints.\"batchSize\" AS \"job_checkpoints_batchSize\", job_checkpoints.\"lastProcessedId\" AS \"job_checkpoints_lastProcessedId\", job_checkpoints.\"lastProcessedTimestamp\" AS \"job_checkpoints_lastProcessedTimestamp\", job_checkpoints.checkpoint_data AS job_checkpoints_checkpoint_data \nFROM job_checkpoints \nWHERE job_checkpoints.job_id = %(job_id_1)s ORDER BY job_checkpoints.\"createdAt\" DESC \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,986"}
{"timestamp": "2025-09-29T11:28:21.989388Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'job_id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,988"}
{"timestamp": "2025-09-29T11:28:21.991877Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:21,990"}
{"timestamp": "2025-09-29T11:28:21.993600Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:28:21.994671Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 44, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": false, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:28:22.013705Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,012"}
{"timestamp": "2025-09-29T11:28:22.015719Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,014"}
{"timestamp": "2025-09-29T11:28:22.017435Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.7s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,016"}
{"timestamp": "2025-09-29T11:28:22.020438Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET \"lastHeartbeat\"=now() WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,019"}
{"timestamp": "2025-09-29T11:28:22.021963Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.5s ago] {'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,020"}
{"timestamp": "2025-09-29T11:28:22.024571Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:22.026391Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,025"}
{"timestamp": "2025-09-29T11:28:22.027971Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.5s ago] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,026"}
{"timestamp": "2025-09-29T11:28:22.030352Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,029"}
{"timestamp": "2025-09-29T11:28:22.033756Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:22.088371Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 106, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:22.090834Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,089"}
{"timestamp": "2025-09-29T11:28:22.092842Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,091"}
{"timestamp": "2025-09-29T11:28:22.094326Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.8s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,093"}
{"timestamp": "2025-09-29T11:28:22.096917Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:28:22.098550Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,097"}
{"timestamp": "2025-09-29T11:28:22.100395Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:28:22.102726Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,101"}
{"timestamp": "2025-09-29T11:28:22.104771Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,103"}
{"timestamp": "2025-09-29T11:28:22.106168Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.8s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,105"}
{"timestamp": "2025-09-29T11:28:22.108590Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:28:22.109752Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,109"}
{"timestamp": "2025-09-29T11:28:22.111623Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 185, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:28:22.112838Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 202, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 0, "associations_count": 0}
{"timestamp": "2025-09-29T11:28:22.781551Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 301, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "duration_ms": 654.77, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "6c93dea6-c525-4e81-af83-e8fba6bb8572", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:28:22.799874Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 654.77}
{"timestamp": "2025-09-29T11:28:22.809960Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 327, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 196, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:28:22.822522Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,820"}
{"timestamp": "2025-09-29T11:28:22.824656Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "INSERT INTO job_checkpoints (job_id, phase, \"recordsProcessed\", \"totalEstimated\", cursor, \"pageNumber\", \"batchSize\", \"lastProcessedId\", \"lastProcessedTimestamp\", checkpoint_data) VALUES (%(job_id)s, %(phase)s, %(recordsProcessed)s, %(totalEstimated)s, %(cursor)s, %(pageNumber)s, %(batchSize)s, %(lastProcessedId)s, %(lastProcessedTimestamp)s, %(checkpoint_data)s) RETURNING job_checkpoints.id, job_checkpoints.\"createdAt\"", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,823"}
{"timestamp": "2025-09-29T11:28:22.826196Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'job_id': 'hubspot-users-scan-2025-001', 'phase': 'deals_error', 'recordsProcessed': 0, 'totalEstimated': None, 'cursor': None, 'pageNumber': 0, 'batchSize': 100, 'lastProcessedId': None, 'lastProcessedTimestamp': None, 'checkpoint_data': '{\"service\": \"hubspot_deals\", \"timestamp\": \"2025-09-29T11:28:22.820008+00:00\", \"error\": \"401 Client Error: Unauthorized for url: https://api.hubapi.co ... (99 characters truncated) ... %2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\", \"error_page\": 1, \"recovery_cursor\": null}'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,825"}
{"timestamp": "2025-09-29T11:28:22.829500Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:28:22.830797Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,829"}
{"timestamp": "2025-09-29T11:28:22.835495Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,834"}
{"timestamp": "2025-09-29T11:28:22.837147Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,836"}
{"timestamp": "2025-09-29T11:28:22.838811Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 379.6s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,837"}
{"timestamp": "2025-09-29T11:28:22.841757Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET \"lastHeartbeat\"=now() WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,840"}
{"timestamp": "2025-09-29T11:28:22.843396Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 379.3s ago] {'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,842"}
{"timestamp": "2025-09-29T11:28:22.845514Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:28:22.847438Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,846"}
{"timestamp": "2025-09-29T11:28:22.849027Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 379.3s ago] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,847"}
{"timestamp": "2025-09-29T11:28:22.851866Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,850"}
{"timestamp": "2025-09-29T11:28:22.855519Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 497, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:28:22.877728Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 356, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 196, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:28:22.889821Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,888"}
{"timestamp": "2025-09-29T11:28:22.891971Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,890"}
{"timestamp": "2025-09-29T11:28:22.893393Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 379.6s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,892"}
{"timestamp": "2025-09-29T11:28:22.896887Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "UPDATE jobs SET status=%(status)s, \"endTime\"=now(), \"errorMessage\"=%(errorMessage)s, job_metadata=%(job_metadata)s WHERE jobs.id = %(jobs_id)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,895"}
{"timestamp": "2025-09-29T11:28:22.898335Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'status': 'failed', 'errorMessage': \"Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\\n\\n<class 'dlt.extract.exceptio ... (274 characters truncated) ... ies=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\", 'job_metadata': '{\"error_details\": {\"error_type\": \"PipelineStepFailed\", \"error_message\": \"Pipeline execution failed at `step=extract` when processing package with `lo ... (404 characters truncated) ... date%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\", \"failed_at\": \"2025-09-29T11:28:22.887966+00:00\"}}', 'jobs_id': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,897"}
{"timestamp": "2025-09-29T11:28:22.901255Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:28:22.903266Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.\"endTime\" AS \"jobs_endTime\" \nFROM jobs \nWHERE jobs.id = %(pk_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,902"}
{"timestamp": "2025-09-29T11:28:22.904761Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 378.4s ago] {'pk_1': 'hubspot-users-scan-2025-001'}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,903"}
{"timestamp": "2025-09-29T11:28:22.907413Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:22,906"}
{"timestamp": "2025-09-29T11:28:22.910993Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:28:22.912560Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:28:22.913814Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145302.0833747` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:28:39.866556Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "203a19a6-264d-4f92-8ece-5529c0d7de4a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:28:39.886806Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:39,885"}
{"timestamp": "2025-09-29T11:28:39.888867Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:39,887"}
{"timestamp": "2025-09-29T11:28:39.890507Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 452.1s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:39,889"}
{"timestamp": "2025-09-29T11:28:39.893060Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:39,891"}
{"timestamp": "2025-09-29T11:28:39.894987Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:28:39.896593Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "203a19a6-264d-4f92-8ece-5529c0d7de4a", "status": "healthy"}
{"timestamp": "2025-09-29T11:28:39.898955Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "203a19a6-264d-4f92-8ece-5529c0d7de4a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 32.19, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:28:57.145242Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/scan/hubspot-users-scan-2025-001/status", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "232bfebc-c596-455f-ae12-7767284a57df", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:28:57.148532Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,147"}
{"timestamp": "2025-09-29T11:28:57.150319Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT jobs.id AS jobs_id, jobs.\"organizationId\" AS \"jobs_organizationId\", jobs.type AS jobs_type, jobs.status AS jobs_status, jobs.\"startTime\" AS \"jobs_startTime\", jobs.\"endTime\" AS \"jobs_endTime\", jobs.\"lastHeartbeat\" AS \"jobs_lastHeartbeat\", jobs.\"recordsExtracted\" AS \"jobs_recordsExtracted\", jobs.\"errorMessage\" AS \"jobs_errorMessage\", jobs.config AS jobs_config, jobs.job_metadata AS jobs_job_metadata \nFROM jobs \nWHERE jobs.id = %(id_1)s \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,149"}
{"timestamp": "2025-09-29T11:28:57.152022Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 413.9s ago] {'id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,151"}
{"timestamp": "2025-09-29T11:28:57.155625Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,154"}
{"timestamp": "2025-09-29T11:28:57.157395Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT job_checkpoints.id AS job_checkpoints_id, job_checkpoints.job_id AS job_checkpoints_job_id, job_checkpoints.\"createdAt\" AS \"job_checkpoints_createdAt\", job_checkpoints.phase AS job_checkpoints_phase, job_checkpoints.\"recordsProcessed\" AS \"job_checkpoints_recordsProcessed\", job_checkpoints.\"totalEstimated\" AS \"job_checkpoints_totalEstimated\", job_checkpoints.cursor AS job_checkpoints_cursor, job_checkpoints.\"pageNumber\" AS \"job_checkpoints_pageNumber\", job_checkpoints.\"batchSize\" AS \"job_checkpoints_batchSize\", job_checkpoints.\"lastProcessedId\" AS \"job_checkpoints_lastProcessedId\", job_checkpoints.\"lastProcessedTimestamp\" AS \"job_checkpoints_lastProcessedTimestamp\", job_checkpoints.checkpoint_data AS job_checkpoints_checkpoint_data \nFROM job_checkpoints \nWHERE job_checkpoints.job_id = %(job_id_1)s ORDER BY job_checkpoints.\"createdAt\" DESC \n LIMIT %(param_1)s", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,156"}
{"timestamp": "2025-09-29T11:28:57.159271Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 413.6s ago] {'job_id_1': 'hubspot-users-scan-2025-001', 'param_1': 1}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,157"}
{"timestamp": "2025-09-29T11:28:57.163574Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,162"}
{"timestamp": "2025-09-29T11:28:57.165459Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:28:57.167211Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:28:57,166"}
{"timestamp": "2025-09-29T11:28:57.169055Z", "level": "DEBUG", "logger": "api.routes", "message": "Scan status retrieved", "module": "routes", "function": "get", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "232bfebc-c596-455f-ae12-7767284a57df", "scan_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:28:57.170642Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/scan/hubspot-users-scan-2025-001/status - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "232bfebc-c596-455f-ae12-7767284a57df", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "status_code": 200, "duration_ms": 28.19, "response_size": 3417, "content_type": "application/json", "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:29:10.000364Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "125f7bca-5471-42cb-a586-79b813416076", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:29:10.018838Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:10,017"}
{"timestamp": "2025-09-29T11:29:10.020682Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:10,019"}
{"timestamp": "2025-09-29T11:29:10.022331Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 482.3s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:10,021"}
{"timestamp": "2025-09-29T11:29:10.024515Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:10,023"}
{"timestamp": "2025-09-29T11:29:10.026343Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:29:10.027707Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "125f7bca-5471-42cb-a586-79b813416076", "status": "healthy"}
{"timestamp": "2025-09-29T11:29:10.029531Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "125f7bca-5471-42cb-a586-79b813416076", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 29.27, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:29:40.144182Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "06a39fa1-7f83-4f99-a4d7-df9fa8f8c66c", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:29:40.164670Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "module": "base", "function": "_connection_begin_impl", "line": 2685, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:40,163"}
{"timestamp": "2025-09-29T11:29:40.166647Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1 as test", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:40,165"}
{"timestamp": "2025-09-29T11:29:40.168506Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[cached since 512.4s ago] {}", "module": "base", "function": "_execute_context", "line": 1844, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:40,167"}
{"timestamp": "2025-09-29T11:29:40.170700Z", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "COMMIT", "module": "base", "function": "_connection_commit_impl", "line": 2691, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "asctime": "2025-09-29 11:29:40,169"}
{"timestamp": "2025-09-29T11:29:40.172737Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 158, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:29:40.174099Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "06a39fa1-7f83-4f99-a4d7-df9fa8f8c66c", "status": "healthy"}
{"timestamp": "2025-09-29T11:29:40.176002Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "06a39fa1-7f83-4f99-a4d7-df9fa8f8c66c", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 31.78, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:30:01.822920Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:30:01.827183Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:30:01.829063Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.969903Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.971800Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.973499Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.986952Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.987860Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.989229Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.990492Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:01.992434Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:30:01.993637Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:30:01.997707Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:30:02.019718Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.864959Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:30:04.868904Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:30:04.870230Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.957065Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.958279Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.959875Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.975605Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.980120Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.982193Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.984037Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:04.987663Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:30:04.990564Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:30:04.996021Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:30:05.025280Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:10.273117Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "50d1ce68-bc33-4886-a174-cdd5812c33bc", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:30:10.350829Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:10.352097Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "50d1ce68-bc33-4886-a174-cdd5812c33bc", "status": "healthy"}
{"timestamp": "2025-09-29T11:30:10.354039Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "50d1ce68-bc33-4886-a174-cdd5812c33bc", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 80.86, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:30:12.052194Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "14621cb9-8c6f-4bb7-bd4b-f4148dcb0b81", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:30:12.084932Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:30:12.089687Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:30:12.099771Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:30:12.100941Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:12.102407Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:30:12.103603Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:12.104998Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "14621cb9-8c6f-4bb7-bd4b-f4148dcb0b81", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:12.106278Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:12.108035Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "14621cb9-8c6f-4bb7-bd4b-f4148dcb0b81", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 55.85, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:30:27.172595Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36790c6a-b25e-4c9b-b00e-51b0961688bd", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 215, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:30:27.176575Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36790c6a-b25e-4c9b-b00e-51b0961688bd", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:30:27.186049Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:27.188966Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36790c6a-b25e-4c9b-b00e-51b0961688bd", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:30:27.190689Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:30:27.193880Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:30:27.196512Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:30:27.200957Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36790c6a-b25e-4c9b-b00e-51b0961688bd", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 23.88, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:30:27.203989Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.208875Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:27.212884Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.215026Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:30:27.216414Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:30:27.339467Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:30:27.337524+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybTNUSFowcnNFUktTQjlmMzNFZzYxWlFDSUduSng2dE9oU24tRDNTWjFTcXBJMUpoX18zS2FxS09uQW9LaHcxa1FOUTE0RkRRQ1VXYWVrTFdqNlZ2ekdMQWd6ZlJ6bU5fc2ROazR4TExGbFJLX3NfT214UGNER3NjY1VZWXUtcTF1Tmc1T3NsQ0txSDFLU0FiNWwxWW15bFR3PT0=", "filters": {}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:30:27.340906Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:30:27.342553Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:30:27.347252Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.352463Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:30:27.359696Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.364917Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.368746Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:30:27.370366Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:30:27.371716Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:30:27.373879Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.380225Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:30:27.381539Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 44, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": false, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:30:27.409165Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.413980Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.479305Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 106, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:27.483009Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:30:27.484796Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:30:27.488280Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:30:27.490219Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 185, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:30:27.491721Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 202, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 0, "associations_count": 0}
{"timestamp": "2025-09-29T11:30:28.138163Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 301, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "duration_ms": 640.05, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "984716c1-ef64-4ef0-b2e3-c0cc3defb4b9", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:30:28.142792Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 640.05}
{"timestamp": "2025-09-29T11:30:28.151698Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 327, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 196, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:30:28.165489Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:30:28.173801Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:30:28.180025Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 497, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:30:28.209950Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145427.4726887` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145427.4726887` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 356, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 196, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 255, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759145427.4726887` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}}
{"timestamp": "2025-09-29T11:30:28.224492Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:30:28.229382Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145427.4726887` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:30:28.230699Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145427.4726887` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:30:28.231930Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145427.4726887` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=dealname%2Camount%2Cdealstage%2Cpipeline%2Cclosedate%2Ccreatedate%2Chs_lastmodifieddate%2Chubspot_owner_id%2Cdealtype%2Chs_deal_stage_probability"}
{"timestamp": "2025-09-29T11:30:40.481250Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f9025f58-3bcc-4855-a5d3-1c9b51893f9a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:30:40.501171Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:30:40.503155Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f9025f58-3bcc-4855-a5d3-1c9b51893f9a", "status": "healthy"}
{"timestamp": "2025-09-29T11:30:40.505113Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f9025f58-3bcc-4855-a5d3-1c9b51893f9a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.91, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:31:10.609834Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ef7597be-16b3-4e40-96a2-096846fb9f63", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:31:10.629368Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:31:10.630908Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ef7597be-16b3-4e40-96a2-096846fb9f63", "status": "healthy"}
{"timestamp": "2025-09-29T11:31:10.633089Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ef7597be-16b3-4e40-96a2-096846fb9f63", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.13, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:31:40.734606Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "cf9f09f3-6706-4fdf-9cae-909d0358f36a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:31:40.757491Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:31:40.759018Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "cf9f09f3-6706-4fdf-9cae-909d0358f36a", "status": "healthy"}
{"timestamp": "2025-09-29T11:31:40.762049Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "cf9f09f3-6706-4fdf-9cae-909d0358f36a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.59, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:32:10.856709Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "557ff5d9-b037-407b-9628-ecdd96253a4e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:32:10.875321Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:32:10.876798Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "557ff5d9-b037-407b-9628-ecdd96253a4e", "status": "healthy"}
{"timestamp": "2025-09-29T11:32:10.878770Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "557ff5d9-b037-407b-9628-ecdd96253a4e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.0, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:32:40.957293Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5181c0ca-3c10-49f3-a91c-dff9ac0b8c6e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:32:40.977518Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:32:40.979270Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5181c0ca-3c10-49f3-a91c-dff9ac0b8c6e", "status": "healthy"}
{"timestamp": "2025-09-29T11:32:40.981479Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5181c0ca-3c10-49f3-a91c-dff9ac0b8c6e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.93, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:33:11.098170Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "abb4e61c-b610-47e7-8ace-ec50360caa75", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:33:11.119203Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:33:11.120401Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "abb4e61c-b610-47e7-8ace-ec50360caa75", "status": "healthy"}
{"timestamp": "2025-09-29T11:33:11.122490Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "abb4e61c-b610-47e7-8ace-ec50360caa75", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.78, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:33:41.260181Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1055430a-b15c-4d6a-913e-8ccb042fd5b7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:33:41.280458Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:33:41.282113Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1055430a-b15c-4d6a-913e-8ccb042fd5b7", "status": "healthy"}
{"timestamp": "2025-09-29T11:33:41.284656Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1055430a-b15c-4d6a-913e-8ccb042fd5b7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.03, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:34:01.584551Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:34:01.587504Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:34:01.588892Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.657145Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.658440Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.659864Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.671664Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.672816Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.674077Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.675309Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:01.677445Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:34:01.678822Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:34:01.682623Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:34:01.705732Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:11.517185Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fbae92d5-d5de-48e0-a92a-90034d75ff00", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:34:11.601301Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:11.602697Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fbae92d5-d5de-48e0-a92a-90034d75ff00", "status": "healthy"}
{"timestamp": "2025-09-29T11:34:11.604652Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fbae92d5-d5de-48e0-a92a-90034d75ff00", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 89.1, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:34:41.736059Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ae7893f-caed-4883-9f1a-48abfaf96b9e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:34:41.755972Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:34:41.757366Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ae7893f-caed-4883-9f1a-48abfaf96b9e", "status": "healthy"}
{"timestamp": "2025-09-29T11:34:41.759436Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ae7893f-caed-4883-9f1a-48abfaf96b9e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.3, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:35:11.846452Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "683b2818-c9ad-4d53-89a6-b9d9f9a6d4e2", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:35:11.867873Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:35:11.869359Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "683b2818-c9ad-4d53-89a6-b9d9f9a6d4e2", "status": "healthy"}
{"timestamp": "2025-09-29T11:35:11.871562Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "683b2818-c9ad-4d53-89a6-b9d9f9a6d4e2", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.88, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:35:41.965367Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9d4ae044-47b7-4f27-bb88-6d422188a5c2", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:35:41.987897Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:35:41.989113Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9d4ae044-47b7-4f27-bb88-6d422188a5c2", "status": "healthy"}
{"timestamp": "2025-09-29T11:35:41.990953Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9d4ae044-47b7-4f27-bb88-6d422188a5c2", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.6, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:36:12.105398Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9adc4180-dcdc-4671-b775-66160567995b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:36:12.131383Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:12.133701Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9adc4180-dcdc-4671-b775-66160567995b", "status": "healthy"}
{"timestamp": "2025-09-29T11:36:12.135848Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9adc4180-dcdc-4671-b775-66160567995b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 30.38, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:36:38.376250Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:36:38.379062Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:36:38.380388Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.456066Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.457305Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.458823Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.471004Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.472669Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.474087Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.475534Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:38.478315Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:36:38.480256Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:36:38.484273Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:36:38.512763Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:42.234042Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f4a7631-579b-4d93-8822-382c634fd330", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:36:42.327253Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:42.328769Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f4a7631-579b-4d93-8822-382c634fd330", "status": "healthy"}
{"timestamp": "2025-09-29T11:36:42.331143Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f4a7631-579b-4d93-8822-382c634fd330", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 97.04, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:36:59.169422Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:36:59.172377Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:36:59.173747Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.250182Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.251729Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.253386Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.265323Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.267346Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.268924Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.270354Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:36:59.272629Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:36:59.274231Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:36:59.277612Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:36:59.301995Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:12.446649Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "43d61052-bd91-4dc4-a2a7-b044d89a5ee3", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:37:12.526601Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:12.528126Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "43d61052-bd91-4dc4-a2a7-b044d89a5ee3", "status": "healthy"}
{"timestamp": "2025-09-29T11:37:12.530261Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "43d61052-bd91-4dc4-a2a7-b044d89a5ee3", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 83.58, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:37:42.656878Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e7860339-1609-4003-98ee-ea42071a119e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:37:42.693798Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:42.695753Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e7860339-1609-4003-98ee-ea42071a119e", "status": "healthy"}
{"timestamp": "2025-09-29T11:37:42.698104Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e7860339-1609-4003-98ee-ea42071a119e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 40.84, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:37:57.123107Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:37:57.126269Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:37:57.127526Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.199323Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.201044Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.203378Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.215399Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.216733Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.218381Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.220147Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:37:57.222366Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:37:57.223660Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:37:57.226940Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:37:57.250437Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.075272Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:38:01.078342Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:38:01.079584Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.150692Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.152150Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.154286Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.165874Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.167286Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.169176Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.170960Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:01.173323Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:38:01.174624Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:38:01.178133Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:38:01.201373Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.257408Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:38:08.260625Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:38:08.261948Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.330238Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.331686Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.333361Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.345021Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.346443Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.348061Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.349409Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:08.351857Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:38:08.353279Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:38:08.356722Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:38:08.380286Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:12.831832Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "88d4ddae-1ddd-4b58-bd80-eaa26684e317", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:38:12.911527Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:12.913193Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "88d4ddae-1ddd-4b58-bd80-eaa26684e317", "status": "healthy"}
{"timestamp": "2025-09-29T11:38:12.915161Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "88d4ddae-1ddd-4b58-bd80-eaa26684e317", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 83.4, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:38:19.976965Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:38:19.979973Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:38:19.981158Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.055694Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.056796Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.058291Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.071769Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.073106Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.074401Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.075793Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:20.078169Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:38:20.079739Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:38:20.084146Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:38:21.317896Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:38:21.320962Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:38:21.322326Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.398523Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.400472Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.402075Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.413778Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.415526Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.418090Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.419591Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:21.422059Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:38:21.423639Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:38:21.429247Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:38:21.457517Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:23.904482Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7cf5a507-e8d5-4551-8f78-645fb5ddbdfa", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:38:23.992168Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:23.993584Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7cf5a507-e8d5-4551-8f78-645fb5ddbdfa", "status": "healthy"}
{"timestamp": "2025-09-29T11:38:23.998033Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7cf5a507-e8d5-4551-8f78-645fb5ddbdfa", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 93.04, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:38:27.240680Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c1fa05e2-9fea-4fe5-bf72-0db6bd731b52", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:38:27.279870Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:38:27.287972Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:38:27.297951Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:38:27.299750Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:27.301345Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:38:27.302536Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:27.303728Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c1fa05e2-9fea-4fe5-bf72-0db6bd731b52", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:27.305062Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:27.306694Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c1fa05e2-9fea-4fe5-bf72-0db6bd731b52", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 66.06, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:38:29.706408Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e53cdf53-dbc5-4734-ac64-0fd6329f2120", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:38:29.711496Z", "level": "WARNING", "logger": "api.routes", "message": "Cannot remove scan: not found", "module": "routes", "function": "delete", "line": 659, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e53cdf53-dbc5-4734-ac64-0fd6329f2120", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:29.714244Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e53cdf53-dbc5-4734-ac64-0fd6329f2120", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 404, "duration_ms": 7.05, "response_size": 161, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:38:54.126330Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "efc046e7-95ab-4acf-bbc7-8d7f4cebdf1d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:38:54.154478Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:54.156098Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "efc046e7-95ab-4acf-bbc7-8d7f4cebdf1d", "status": "healthy"}
{"timestamp": "2025-09-29T11:38:54.158941Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "efc046e7-95ab-4acf-bbc7-8d7f4cebdf1d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 32.18, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:38:57.862680Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5fc9fa62-f684-4d70-9854-10555a26dfa2", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 215, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:38:57.864724Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5fc9fa62-f684-4d70-9854-10555a26dfa2", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:38:57.871732Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:57.873166Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5fc9fa62-f684-4d70-9854-10555a26dfa2", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:38:57.874723Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:38:57.877254Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:38:57.881014Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:38:57.882698Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5fc9fa62-f684-4d70-9854-10555a26dfa2", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 17.7, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:38:57.885000Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:57.889028Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:38:57.894374Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:57.897048Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:38:57.898950Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:38:58.029865Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:38:58.027666+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybV9TWEpkMFRqQi1UYWpRdjZ1TGtGWGd0WFdTbC1RaTAwMGZXTmsyTWNLYUUyRXBhZUpRZHFNWE9KaEt0RjY5TFRSVTVOemVnNFlidjViNWwtMXMwSWx5Wm9aeW1SWjYxb210dlp0LVhfZ1Y1TV9hdWVlNHFPU0RjSDA1d3ZYQWxubXVtdFkwa2pvMzA3WG5oMVRRZ05pMUN3PT0=", "filters": {}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:38:58.031389Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:38:58.032959Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:38:58.041515Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.098619Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:38:58.110634Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.130313Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.133948Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:38:58.135462Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:38:58.136969Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:38:58.139276Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.145627Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:38:58.147066Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:38:58.149056Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": false, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:38:58.183595Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.188423Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.255914Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.261022Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:38:58.263437Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:38:58.267225Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:38:58.269289Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:38:58.277655Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "exception": {"type": "TypeError", "message": "HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\nTypeError: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}}
{"timestamp": "2025-09-29T11:38:58.285956Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:38:58.293986Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:38:58.301778Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:38:58.335425Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145938.250086` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145938.250086` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\nTypeError: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759145938.250086` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}}
{"timestamp": "2025-09-29T11:38:58.354376Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:38:58.362769Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145938.250086` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}
{"timestamp": "2025-09-29T11:38:58.365191Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145938.250086` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}
{"timestamp": "2025-09-29T11:38:58.367110Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759145938.250086` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}
{"timestamp": "2025-09-29T11:39:24.242940Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1c6f5a3a-ad48-45f3-aecb-82aa3485892b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:39:24.274082Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:39:24.280695Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1c6f5a3a-ad48-45f3-aecb-82aa3485892b", "status": "healthy"}
{"timestamp": "2025-09-29T11:39:24.286261Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1c6f5a3a-ad48-45f3-aecb-82aa3485892b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 40.91, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:39:54.393279Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ce79ac68-e55a-473c-a081-d2bfcb6e3d9b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:39:54.413080Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:39:54.414633Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ce79ac68-e55a-473c-a081-d2bfcb6e3d9b", "status": "healthy"}
{"timestamp": "2025-09-29T11:39:54.416701Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ce79ac68-e55a-473c-a081-d2bfcb6e3d9b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.2, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:40:24.539900Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0331ae04-3453-4e85-a989-a1600034a39f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:40:24.558714Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:24.559841Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0331ae04-3453-4e85-a989-a1600034a39f", "status": "healthy"}
{"timestamp": "2025-09-29T11:40:24.561544Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0331ae04-3453-4e85-a989-a1600034a39f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 21.77, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:40:38.934131Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:40:38.937442Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:40:38.939609Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.017734Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.019209Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.021078Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.034559Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.036121Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.037790Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.039428Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:39.041850Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:40:39.043539Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:40:39.047890Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:40:39.077706Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.255237Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:40:42.258192Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:40:42.259440Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.338294Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.339437Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.340954Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.352645Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.353995Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.355775Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.357349Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:42.359629Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:40:42.361355Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:40:42.365284Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:40:43.670019Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:40:43.673464Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:40:43.675163Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.768318Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.769987Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.772206Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.785433Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.787033Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.788984Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.790718Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:43.793774Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:40:43.795507Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:40:43.800055Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:40:43.828767Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:46.184640Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "aa74cc0f-af25-48e4-acc6-e50f463fe2ca", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:40:46.276535Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:40:46.277645Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "aa74cc0f-af25-48e4-acc6-e50f463fe2ca", "status": "healthy"}
{"timestamp": "2025-09-29T11:40:46.279551Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "aa74cc0f-af25-48e4-acc6-e50f463fe2ca", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 94.56, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:40:54.646693Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8f15d4df-d3a4-4fe0-9bc4-78c558538f32", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:40:54.685450Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:40:54.690714Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:40:54.700062Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:40:54.702238Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:40:54.704368Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:40:54.705946Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:40:54.707521Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8f15d4df-d3a4-4fe0-9bc4-78c558538f32", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:40:54.709019Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:40:54.711007Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8f15d4df-d3a4-4fe0-9bc4-78c558538f32", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 64.47, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:40:56.862117Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ec44d994-eeb3-4eb6-bde6-71f39c37c3b6", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:40:56.867185Z", "level": "WARNING", "logger": "api.routes", "message": "Cannot remove scan: not found", "module": "routes", "function": "delete", "line": 659, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ec44d994-eeb3-4eb6-bde6-71f39c37c3b6", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:40:56.870586Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ec44d994-eeb3-4eb6-bde6-71f39c37c3b6", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 404, "duration_ms": 7.62, "response_size": 161, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:41:07.236635Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "10ad79b3-9c08-4fd0-ab2a-841ef3bc682a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 215, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:41:07.238294Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "10ad79b3-9c08-4fd0-ab2a-841ef3bc682a", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:41:07.245570Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:41:07.246740Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "10ad79b3-9c08-4fd0-ab2a-841ef3bc682a", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:41:07.248947Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:41:07.251651Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:41:07.254094Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:41:07.255984Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "10ad79b3-9c08-4fd0-ab2a-841ef3bc682a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 17.12, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:41:07.258506Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.262222Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:41:07.267312Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.270076Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:41:07.272105Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:41:07.406770Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:41:07.404553+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybkJUb1RobmtJZzlMMFg3UGx1cVBFek5aU3NuVkh1RDVnMi1hTjZKVDdiTmJnMk0zNmlHY1phUktqNXQ4M2pkcWkzUE5VT20wY1RWNTMtbDdPM3c1eG5rNjJrRDlwZ0NUQmVjVDhuZmkwd3Btc3ZyQkRnbk52Vll2UVE2N3FFNkJnRmV5VTVWWjFxbjdrYXNvb2RObEtzVk5nPT0=", "filters": {}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:41:07.408062Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:41:07.409615Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:41:07.414418Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.420358Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:41:07.428711Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.435147Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.439816Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:41:07.441488Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:41:07.443000Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:41:07.445682Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.450484Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:41:07.451765Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:41:07.453322Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": false, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:41:07.485240Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.490244Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.569899Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.573516Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:41:07.575402Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:41:07.578949Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:41:07.581193Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:41:07.588431Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "exception": {"type": "TypeError", "message": "HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\nTypeError: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}}
{"timestamp": "2025-09-29T11:41:07.597681Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:41:07.604722Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:41:07.611161Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:41:07.640021Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146067.5627172` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146067.5627172` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\nTypeError: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759146067.5627172` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}}
{"timestamp": "2025-09-29T11:41:07.653249Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:41:07.659031Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146067.5627172` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}
{"timestamp": "2025-09-29T11:41:07.660508Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146067.5627172` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}
{"timestamp": "2025-09-29T11:41:07.662143Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146067.5627172` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: HubSpotAPIService.get_deals() missing 1 required positional argument: 'access_token'"}
{"timestamp": "2025-09-29T11:41:16.409730Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5714057-51b0-4bc8-ba96-482cc1c7ff41", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:41:16.434925Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:41:16.436850Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5714057-51b0-4bc8-ba96-482cc1c7ff41", "status": "healthy"}
{"timestamp": "2025-09-29T11:41:16.439860Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5714057-51b0-4bc8-ba96-482cc1c7ff41", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 29.46, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:41:46.535674Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "56f016b0-f23a-4d39-8620-90f1f89165fd", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:41:46.554786Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:41:46.556249Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "56f016b0-f23a-4d39-8620-90f1f89165fd", "status": "healthy"}
{"timestamp": "2025-09-29T11:41:46.558407Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "56f016b0-f23a-4d39-8620-90f1f89165fd", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.42, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:42:16.663178Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a978adcc-d56c-4c38-93f6-d58a4097e791", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:42:16.687702Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:42:16.689156Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a978adcc-d56c-4c38-93f6-d58a4097e791", "status": "healthy"}
{"timestamp": "2025-09-29T11:42:16.691322Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a978adcc-d56c-4c38-93f6-d58a4097e791", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 27.99, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:42:46.807451Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7c5a45a3-7594-4057-af3b-9fd3827fb560", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:42:46.832150Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:42:46.833321Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7c5a45a3-7594-4057-af3b-9fd3827fb560", "status": "healthy"}
{"timestamp": "2025-09-29T11:42:46.835386Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7c5a45a3-7594-4057-af3b-9fd3827fb560", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 27.81, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:43:16.942898Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fee862a8-8d5b-4494-bc1b-ac0241415a88", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:43:16.963235Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:16.964695Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fee862a8-8d5b-4494-bc1b-ac0241415a88", "status": "healthy"}
{"timestamp": "2025-09-29T11:43:16.966657Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fee862a8-8d5b-4494-bc1b-ac0241415a88", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.66, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:43:33.708090Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:43:33.711231Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:43:33.712504Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.780817Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.782312Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.784009Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.795924Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.797400Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.798921Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.800242Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:33.802639Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:43:33.804095Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:43:33.807746Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:43:33.830598Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:47.052413Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d08d9364-d708-4e67-a176-9988003fed7b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:43:47.131233Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:43:47.132547Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d08d9364-d708-4e67-a176-9988003fed7b", "status": "healthy"}
{"timestamp": "2025-09-29T11:43:47.134861Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d08d9364-d708-4e67-a176-9988003fed7b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 82.45, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:44:13.348169Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:44:13.352563Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:44:13.354352Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.437345Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.438697Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.440186Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.453092Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.454475Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.455848Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.457380Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:13.460255Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:44:13.462238Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:44:13.467051Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:44:13.493547Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:17.226477Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1478a317-9592-4a56-aba0-9c4a1eb10912", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:44:17.312728Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:17.314314Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1478a317-9592-4a56-aba0-9c4a1eb10912", "status": "healthy"}
{"timestamp": "2025-09-29T11:44:17.316035Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1478a317-9592-4a56-aba0-9c4a1eb10912", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 89.73, "response_size": 512, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:44:44.484717Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1a542c6a-e332-4f20-9222-2bf3b203ec67", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:44:44.525618Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:44:44.530898Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:44:44.541131Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:44:44.542528Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:44:44.544356Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:44:44.545910Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:44:44.547472Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1a542c6a-e332-4f20-9222-2bf3b203ec67", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:44:44.548954Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:44:44.551084Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1a542c6a-e332-4f20-9222-2bf3b203ec67", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 66.18, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:44:47.397344Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "12901caa-2bf2-463b-a7bf-cb96094937bc", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:44:47.418633Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:44:47.420078Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "12901caa-2bf2-463b-a7bf-cb96094937bc", "status": "healthy"}
{"timestamp": "2025-09-29T11:44:47.422765Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "12901caa-2bf2-463b-a7bf-cb96094937bc", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.0, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:44:48.105746Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "86508355-afec-4279-b908-38f4e1c1fedc", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:44:48.110270Z", "level": "WARNING", "logger": "api.routes", "message": "Cannot remove scan: not found", "module": "routes", "function": "delete", "line": 659, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "86508355-afec-4279-b908-38f4e1c1fedc", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:44:48.112460Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "86508355-afec-4279-b908-38f4e1c1fedc", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 404, "duration_ms": 6.73, "response_size": 161, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:45:09.717869Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e29d4ce0-bcd2-4ea3-b212-715e14291449", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 508, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:45:09.719541Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e29d4ce0-bcd2-4ea3-b212-715e14291449", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:45:09.741424Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:45:09.742896Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e29d4ce0-bcd2-4ea3-b212-715e14291449", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:45:09.744459Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:45:09.746167Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:45:09.748130Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:45:09.749758Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e29d4ce0-bcd2-4ea3-b212-715e14291449", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 30.27, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:45:09.752333Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:09.756950Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:45:09.762261Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:09.765073Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:45:09.766784Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:45:09.920019Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:45:09.915385+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybkZGLUJCN1Y5QndIRmotaG5KLUpudUxTNGZKYWdmaVl5LTFILUh2aUVwaGMyaWJfWEVlLTJwNG9GLUhzMG1IN1EyVmQ3ZEFlY0FGbzhzbExKSlhnb2RjR25WSGJ6SjRPMEJpdXBQNU9SUjI5dVM1SWs2RHF3QUtHeV9qTHVUQWtIajZFV24xVGdUTjdxbHJHVnJPSWFLQTBBPT0=", "filters": {"properties": ["id", "email", "firstName", "lastName", "roleId", "createdAt"], "includeArchived": false, "dateRange": {"startDate": "2024-01-01", "endDate": "2024-12-31"}}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:45:09.921926Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:45:09.924416Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:45:09.928374Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:09.933978Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:45:09.943907Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:09.949931Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:09.955505Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:45:09.957713Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:45:09.959748Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:45:09.962251Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:09.969504Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:45:09.971634Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:45:09.973391Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": true, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:45:10.028637Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:10.040086Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:10.137245Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:10.140855Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:45:10.142291Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:45:10.145245Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:45:10.146933Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:45:10.147960Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 6, "associations_count": 0}
{"timestamp": "2025-09-29T11:45:11.679182Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 296, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "duration_ms": 1521.25, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "63c4e89b-bd42-4896-b04e-b2a5943d7fc3", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 250, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:45:11.683360Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 1521.25}
{"timestamp": "2025-09-29T11:45:11.693973Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 250, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:45:11.707537Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:45:11.715628Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:45:11.721391Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:45:11.756051Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146310.1272602` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146310.1272602` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 250, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759146310.1272602` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:45:11.772881Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:45:11.779202Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146310.1272602` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:45:11.780689Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146310.1272602` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:45:11.782221Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146310.1272602` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:45:17.537181Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3c34bd69-fd64-4981-b1e4-b2d3b4402728", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:45:17.559638Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:45:17.561197Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3c34bd69-fd64-4981-b1e4-b2d3b4402728", "status": "healthy"}
{"timestamp": "2025-09-29T11:45:17.563163Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3c34bd69-fd64-4981-b1e4-b2d3b4402728", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.1, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:45:29.789051Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/scan/hubspot-users-scan-2025-001/status", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "010da1c5-b53d-477e-a967-af8daa99ed3e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:45:29.796073Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:45:29.797967Z", "level": "DEBUG", "logger": "api.routes", "message": "Scan status retrieved", "module": "routes", "function": "get", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "010da1c5-b53d-477e-a967-af8daa99ed3e", "scan_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:45:29.801322Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/scan/hubspot-users-scan-2025-001/status - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "010da1c5-b53d-477e-a967-af8daa99ed3e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "status_code": 200, "duration_ms": 11.67, "response_size": 3571, "content_type": "application/json", "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:45:47.655989Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b8e95d52-98e6-4c75-8db4-a4c191b0fabc", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:45:47.679779Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:45:47.681059Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b8e95d52-98e6-4c75-8db4-a4c191b0fabc", "status": "healthy"}
{"timestamp": "2025-09-29T11:45:47.683149Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b8e95d52-98e6-4c75-8db4-a4c191b0fabc", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.62, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:46:17.796496Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "24fb8bfe-1e05-4718-90cb-d95a99708c3b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:46:17.821444Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:46:17.823113Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "24fb8bfe-1e05-4718-90cb-d95a99708c3b", "status": "healthy"}
{"timestamp": "2025-09-29T11:46:17.825194Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "24fb8bfe-1e05-4718-90cb-d95a99708c3b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 28.38, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:46:47.912662Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "56b497b8-9b26-42dc-883f-060f356060df", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:46:47.933345Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:46:47.934665Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "56b497b8-9b26-42dc-883f-060f356060df", "status": "healthy"}
{"timestamp": "2025-09-29T11:46:47.936466Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "56b497b8-9b26-42dc-883f-060f356060df", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.99, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:47:18.036184Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "30101808-1ad4-432b-bac7-59826392cd35", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:47:18.056059Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:47:18.057531Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "30101808-1ad4-432b-bac7-59826392cd35", "status": "healthy"}
{"timestamp": "2025-09-29T11:47:18.059939Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "30101808-1ad4-432b-bac7-59826392cd35", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.2, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:47:48.167334Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b1ecfb03-71d2-4db9-adbe-bf25104b6019", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:47:48.194052Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:47:48.196196Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b1ecfb03-71d2-4db9-adbe-bf25104b6019", "status": "healthy"}
{"timestamp": "2025-09-29T11:47:48.199360Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b1ecfb03-71d2-4db9-adbe-bf25104b6019", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 31.04, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:18.315656Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "83f1f360-688f-494a-b5c5-5c05fe24fbfb", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:18.333807Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:18.335174Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "83f1f360-688f-494a-b5c5-5c05fe24fbfb", "status": "healthy"}
{"timestamp": "2025-09-29T11:48:18.337294Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "83f1f360-688f-494a-b5c5-5c05fe24fbfb", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 21.59, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:30.048809Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:48:30.051595Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:48:30.052763Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.126395Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.127479Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.128767Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.146213Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.149311Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.151026Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.152704Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:30.155484Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:48:30.156791Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:48:30.160517Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:48:30.188799Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.836503Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:48:40.839658Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:48:40.840926Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.912495Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.913813Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.915200Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.927371Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.928755Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.930071Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.931402Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:40.933588Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:48:40.935104Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:48:40.938568Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:48:40.962336Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:48.425877Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "82e060c2-0708-4bbc-94b8-32bf82b00fda", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:48.508071Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:48.509410Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "82e060c2-0708-4bbc-94b8-32bf82b00fda", "status": "healthy"}
{"timestamp": "2025-09-29T11:48:48.511275Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "82e060c2-0708-4bbc-94b8-32bf82b00fda", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 85.64, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:52.174531Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:48:52.177724Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:48:52.179036Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.258404Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.259643Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.261028Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.272941Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.274275Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.276149Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.277390Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:52.279841Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:48:52.281414Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:48:52.285341Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:48:53.645055Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:48:53.648228Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:48:53.649243Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.726823Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.728033Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.729404Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.742036Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.743432Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.744897Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.746478Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:53.748897Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:48:53.750751Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:48:53.754480Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:48:53.782638Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:55.953995Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e6b37ea7-7cb6-4177-a7cf-8469f6edc8a9", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:56.051008Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:48:56.052232Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e6b37ea7-7cb6-4177-a7cf-8469f6edc8a9", "status": "healthy"}
{"timestamp": "2025-09-29T11:48:56.054001Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e6b37ea7-7cb6-4177-a7cf-8469f6edc8a9", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 99.84, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:48:56.389225Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/scan/hubspot-users-scan-2025-001/status", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2c4a9987-cb00-40bd-ba11-8044c1376482", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:48:56.423402Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:48:56.426208Z", "level": "DEBUG", "logger": "api.routes", "message": "Scan status retrieved", "module": "routes", "function": "get", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2c4a9987-cb00-40bd-ba11-8044c1376482", "scan_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:48:56.428704Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/scan/hubspot-users-scan-2025-001/status - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2c4a9987-cb00-40bd-ba11-8044c1376482", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "status_code": 200, "duration_ms": 39.34, "response_size": 3571, "content_type": "application/json", "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T11:49:07.368431Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2ece7adf-084d-42bd-908c-d309a9baf53d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:49:07.379238Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:49:07.383157Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:49:07.395659Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:49:07.397123Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:07.398936Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:49:07.400366Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:07.401953Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2ece7adf-084d-42bd-908c-d309a9baf53d", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:07.403307Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:07.406296Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2ece7adf-084d-42bd-908c-d309a9baf53d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 37.35, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:49:13.249009Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2275b24b-8ce7-4def-af56-51273afa77e0", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 508, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:49:13.252021Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2275b24b-8ce7-4def-af56-51273afa77e0", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:49:13.262675Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2275b24b-8ce7-4def-af56-51273afa77e0", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:49:13.264202Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:49:13.266084Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:49:13.268219Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:49:13.270029Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2275b24b-8ce7-4def-af56-51273afa77e0", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 22.94, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:49:13.272704Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:49:13.274917Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.278328Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:49:13.282358Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.284728Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:49:13.287818Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:49:13.418898Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:49:13.416842+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybkk1aGRRM3Y5eFVMQ090N1A4Z0JHdEdYNE0yZWtNVzh2ZGFZWG02YTdZNTlpcmQzWDBza0dJaDNwdnRCYWNHR2cyQmpFZU41XzZMY1FQRWp2d3R5d2R0ZUdqVnVrRU42QW8xaVZBcUNsX2U1cm10UWpKWXlCLU9KUGtWXzBjdGhha3kzTDBfazg0VmFVeEdGcnZxYVEtR3NRPT0=", "filters": {"properties": ["id", "email", "firstName", "lastName", "roleId", "createdAt"], "includeArchived": false, "dateRange": {"startDate": "2024-01-01", "endDate": "2024-12-31"}}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:49:13.420515Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:49:13.421942Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:49:13.425449Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.431017Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:49:13.438326Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.443660Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.446915Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:49:13.448087Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:49:13.449566Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:49:13.451762Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.455786Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:49:13.456964Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:49:13.458512Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": true, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:49:13.493972Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.498649Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.600770Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:13.606353Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:49:13.608468Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:49:13.611932Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:49:13.614290Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:49:13.615848Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 200, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 6, "associations_count": 0}
{"timestamp": "2025-09-29T11:49:14.283783Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "duration_ms": 662.0, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "20870b2d-6f32-4fe3-b207-a3806b550987", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:49:14.288515Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 662.0}
{"timestamp": "2025-09-29T11:49:14.301201Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:49:14.315304Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:49:14.323641Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:49:14.329052Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:49:14.370648Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146553.5957298` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146553.5957298` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759146553.5957298` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:49:14.391448Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:49:14.398150Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146553.5957298` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:49:14.399750Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146553.5957298` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:49:14.401306Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146553.5957298` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:49:26.141755Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "638695ca-ca08-4b99-b889-95c9e6fb8417", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:49:26.161905Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:49:26.163439Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "638695ca-ca08-4b99-b889-95c9e6fb8417", "status": "healthy"}
{"timestamp": "2025-09-29T11:49:26.165693Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "638695ca-ca08-4b99-b889-95c9e6fb8417", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.87, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:49:56.260368Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "238dd5d1-097b-43d8-b8d0-0dcae7ce72a2", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:49:56.280921Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:49:56.282261Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "238dd5d1-097b-43d8-b8d0-0dcae7ce72a2", "status": "healthy"}
{"timestamp": "2025-09-29T11:49:56.284207Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "238dd5d1-097b-43d8-b8d0-0dcae7ce72a2", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.57, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:50:26.382745Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0f5621ca-0208-4f15-ab18-a0d21bbc0513", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:50:26.405379Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:50:26.407314Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0f5621ca-0208-4f15-ab18-a0d21bbc0513", "status": "healthy"}
{"timestamp": "2025-09-29T11:50:26.409464Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0f5621ca-0208-4f15-ab18-a0d21bbc0513", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.82, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:50:56.542358Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "46249f4b-4be6-48a5-ac0b-8a9c8b0f74d7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:50:56.561805Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:50:56.563166Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "46249f4b-4be6-48a5-ac0b-8a9c8b0f74d7", "status": "healthy"}
{"timestamp": "2025-09-29T11:50:56.565473Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "46249f4b-4be6-48a5-ac0b-8a9c8b0f74d7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.78, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:51:17.056038Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:51:17.059016Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:51:17.060348Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.138087Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.139305Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.140766Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.153972Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.155479Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.157126Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.158618Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:17.161435Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:51:17.163491Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:51:17.167869Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:51:18.445032Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:51:18.449846Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:51:18.452808Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.540281Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.541585Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.543018Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.558454Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.560067Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.561696Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.563364Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:18.566154Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:51:18.567831Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:51:18.572258Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:51:18.600890Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:20.965942Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9a7dbfd1-456f-43e9-8c3b-63f0b98b718a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:51:21.062124Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:21.063525Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9a7dbfd1-456f-43e9-8c3b-63f0b98b718a", "status": "healthy"}
{"timestamp": "2025-09-29T11:51:21.067897Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9a7dbfd1-456f-43e9-8c3b-63f0b98b718a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 101.52, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:51:25.663475Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "23d56a55-489c-4d94-bbea-f1fcc1943eae", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:51:25.697499Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:51:25.703470Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:51:25.725888Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:51:25.728093Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:25.731095Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:51:25.733353Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:25.735277Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "23d56a55-489c-4d94-bbea-f1fcc1943eae", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:25.737061Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:25.739403Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "23d56a55-489c-4d94-bbea-f1fcc1943eae", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 75.65, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:51:33.796401Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "80189ce0-9d4e-4551-941a-81e6fdeaa97f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 508, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:51:33.797936Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "80189ce0-9d4e-4551-941a-81e6fdeaa97f", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:51:33.806584Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:33.808119Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "80189ce0-9d4e-4551-941a-81e6fdeaa97f", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:51:33.809582Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:51:33.812025Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:51:33.814448Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:51:33.816193Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "80189ce0-9d4e-4551-941a-81e6fdeaa97f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 18.13, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:51:33.818441Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:33.822445Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:33.826766Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:33.830129Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:51:33.832424Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:51:33.966209Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:51:33.964042+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybkxGVTFyVHZkWi1qYTl1Ymc2SFZ5U0ZQQ2xCZ2FMeFRSenJCTUk1UHcxQnV0dUZXTXY1dEJCZl9fdFEwckNreDRuMnhWaXV2ZTR4dnNGQ1FmTjB4Tm1IRWFobS05MU5kWkUwck5MQUxyNTFaSVpITnFEcm9tTjgwOEpuZUVzUlE2RHE3TUxBYzYwb0pCX09tdnR5WG1qSzNnPT0=", "filters": {"properties": ["id", "email", "firstName", "lastName", "roleId", "createdAt"], "includeArchived": false, "dateRange": {"startDate": "2024-01-01", "endDate": "2024-12-31"}}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:51:33.967522Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:51:33.969047Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:51:33.974359Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:33.980232Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:51:33.987797Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:33.994672Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:33.999031Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:51:34.000733Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:51:34.002311Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:51:34.004716Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:34.011489Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:51:34.012950Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:51:34.014451Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": true, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:51:34.046851Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:34.052853Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:34.145379Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:34.149035Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:51:34.150877Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:51:34.154223Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:51:34.156295Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:51:34.157700Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 200, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 6, "associations_count": 0}
{"timestamp": "2025-09-29T11:51:34.825011Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "duration_ms": 651.52, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "1dfbd42e-7468-4491-8c25-179e9a3b1bbc", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:51:34.833524Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 651.52}
{"timestamp": "2025-09-29T11:51:34.842433Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:51:34.856997Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:51:34.866449Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:51:34.872487Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:51:34.914536Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146694.1353395` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146694.1353395` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759146694.1353395` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:51:34.936833Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:51:34.945476Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146694.1353395` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:51:34.947534Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146694.1353395` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:51:34.949066Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146694.1353395` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:51:51.166703Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a7efffa0-72ae-4baa-8e64-6907af44e59a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:51:51.188640Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:51:51.190244Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a7efffa0-72ae-4baa-8e64-6907af44e59a", "status": "healthy"}
{"timestamp": "2025-09-29T11:51:51.192471Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a7efffa0-72ae-4baa-8e64-6907af44e59a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.39, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:52:21.299096Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "74552877-440d-4be4-86b1-01a51cd3bbc3", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:52:21.322172Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:21.323739Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "74552877-440d-4be4-86b1-01a51cd3bbc3", "status": "healthy"}
{"timestamp": "2025-09-29T11:52:21.326020Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "74552877-440d-4be4-86b1-01a51cd3bbc3", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.89, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:52:50.759894Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:52:50.763535Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:52:50.765212Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.836675Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.837771Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.839257Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.851978Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.853183Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.854435Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.855893Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:50.858115Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:52:50.859640Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:52:50.864053Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:52:50.889321Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:51.431254Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1e71e3bb-6993-4601-b2e9-35f94d5f7ded", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:52:51.514241Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:52:51.515574Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1e71e3bb-6993-4601-b2e9-35f94d5f7ded", "status": "healthy"}
{"timestamp": "2025-09-29T11:52:51.517681Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1e71e3bb-6993-4601-b2e9-35f94d5f7ded", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 86.55, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:53:02.433411Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:53:02.436220Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:53:02.437372Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.515187Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.516761Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.518158Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.531116Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.532514Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.533865Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.535332Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:02.537726Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:53:02.539230Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:53:02.542693Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:53:02.567861Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.611828Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:53:07.614864Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:53:07.616229Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.689304Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.690697Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.692660Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.704747Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.706010Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.707560Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.708983Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:07.711356Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:53:07.712879Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:53:07.716623Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:53:08.976949Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:53:08.980252Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:53:08.981450Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.061550Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.062995Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.064450Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.081572Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.083262Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.085342Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.086922Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:09.090294Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:53:09.092695Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:53:09.100398Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:53:09.136688Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:11.400378Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7a96b906-53b8-435e-a943-09a6421df557", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:53:11.500951Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:11.502425Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7a96b906-53b8-435e-a943-09a6421df557", "status": "healthy"}
{"timestamp": "2025-09-29T11:53:11.504769Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7a96b906-53b8-435e-a943-09a6421df557", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 104.16, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:53:14.619024Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "da6652de-bf26-4a7e-8662-ca3c540dbb3f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:53:14.655516Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:53:14.661856Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T11:53:14.675645Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T11:53:14.677102Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:14.678756Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T11:53:14.680194Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:14.681687Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "da6652de-bf26-4a7e-8662-ca3c540dbb3f", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:14.683218Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:14.685008Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "da6652de-bf26-4a7e-8662-ca3c540dbb3f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 70.61, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:53:16.279056Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "22e4a854-a8e5-495d-a247-b223f35de829", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:53:16.284021Z", "level": "WARNING", "logger": "api.routes", "message": "Cannot remove scan: not found", "module": "routes", "function": "delete", "line": 659, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "22e4a854-a8e5-495d-a247-b223f35de829", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:16.285658Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "22e4a854-a8e5-495d-a247-b223f35de829", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 404, "duration_ms": 6.72, "response_size": 161, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T11:53:23.002115Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1bf1c7b2-0c90-47cb-9e55-8dd2f33c2e74", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 508, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:53:23.003637Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1bf1c7b2-0c90-47cb-9e55-8dd2f33c2e74", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:53:23.013984Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:23.015364Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1bf1c7b2-0c90-47cb-9e55-8dd2f33c2e74", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:53:23.016853Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:53:23.018368Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:53:23.020239Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:53:23.021751Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1bf1c7b2-0c90-47cb-9e55-8dd2f33c2e74", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 18.29, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:53:23.025829Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.030758Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:23.034840Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.037086Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:53:23.039186Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:53:23.170711Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:53:23.168602+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybk16eEpiQmJyUzlZRnZSYzBreWt2VnQ1TEpSOHprMUloZFRTM20wUkJyV2xHdXNBblIyNWJGcDJjQ2JyaFBDWlo3WTA2eDFyZ0w0WDVnOHVGR25wNC1yWU9OTEZQYmhFeHZ6MXo4UGQyZ01XRGZKLTN2Q0o4ZXBFME04SFFKVU9JY3JPc2lpZ2E1bHJtdkdCUm5NcklkUzBRPT0=", "filters": {"properties": ["id", "email", "firstName", "lastName", "roleId", "createdAt"], "includeArchived": false, "dateRange": {"startDate": "2024-01-01", "endDate": "2024-12-31"}}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:53:23.172563Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:53:23.174269Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:53:23.179288Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.184137Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:53:23.191491Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.197071Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.200619Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:53:23.201899Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:53:23.203586Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:53:23.206295Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.211289Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:53:23.212850Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:53:23.214609Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": true, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:53:23.244122Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.249512Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.327006Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:23.344807Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:53:23.347153Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:53:23.352783Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T11:53:23.355100Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:53:23.356843Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 205, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 6, "associations_count": 0}
{"timestamp": "2025-09-29T11:53:24.050330Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 300, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "duration_ms": 684.81, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "9c109f5a-f859-43b0-b940-56bc997241a0", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 254, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:53:24.060438Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 684.81}
{"timestamp": "2025-09-29T11:53:24.066630Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 254, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:53:24.077833Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 0}
{"timestamp": "2025-09-29T11:53:24.085609Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T11:53:24.091229Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:53:24.121178Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146803.3186588` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146803.3186588` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 254, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759146803.3186588` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:53:24.141792Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:53:24.148036Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146803.3186588` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:53:24.149422Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146803.3186588` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:53:24.151106Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146803.3186588` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:53:41.592081Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "753e7afa-7a8e-49f0-b3e3-42c360901cd9", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:53:41.610735Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:53:41.612209Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "753e7afa-7a8e-49f0-b3e3-42c360901cd9", "status": "healthy"}
{"timestamp": "2025-09-29T11:53:41.614332Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "753e7afa-7a8e-49f0-b3e3-42c360901cd9", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.14, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:54:11.734049Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1db1b4d1-039d-40c2-baef-6ed50d933e3f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:54:11.753046Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:11.754437Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1db1b4d1-039d-40c2-baef-6ed50d933e3f", "status": "healthy"}
{"timestamp": "2025-09-29T11:54:11.756490Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1db1b4d1-039d-40c2-baef-6ed50d933e3f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.39, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:54:41.885726Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "58ff4aa1-70de-4248-8292-04daa0be5046", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:54:41.905269Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:41.906841Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "58ff4aa1-70de-4248-8292-04daa0be5046", "status": "healthy"}
{"timestamp": "2025-09-29T11:54:41.908738Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "58ff4aa1-70de-4248-8292-04daa0be5046", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.02, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:54:46.191881Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:54:46.194806Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:54:46.196188Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.267714Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.269086Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.270874Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.283966Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.285365Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.286617Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.288288Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:54:46.291063Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:54:46.292627Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:54:46.296151Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:54:46.319994Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:55:03.423220Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a03ca2b1-60be-4dbd-a411-ee63203d4b0f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 508, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:55:03.425303Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a03ca2b1-60be-4dbd-a411-ee63203d4b0f", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T11:55:03.449631Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:55:03.451715Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a03ca2b1-60be-4dbd-a411-ee63203d4b0f", "scan_id": "hubspot-users-scan-2025-002", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:55:03.454109Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-002", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:55:03.455963Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-002", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:55:03.457991Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-002", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:55:03.459869Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "a03ca2b1-60be-4dbd-a411-ee63203d4b0f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 35.07, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T11:55:03.463281Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.469154Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:55:03.474971Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.478368Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:55:03.481647Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:55:03.659309Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-002", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T11:55:03.657261+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybk9YM0VqZEhLUzF3SWVBU0NDQ25jSHQ3RV9falVIR3lVR1FHNnhXRmxCNTE2bjl1RDlkYURmUXQzYlZVMjVYNUFVcXR1ZzlJQ2RnM0dWeGpQdWd1azRoQnQ4b1lEaWdwc0VVNU5DMVIxVWZaemhRbUV1Y2lrVjJFLWVaaTZUS3pJd2JBeG4zd1ZmOVl3RmZUNWs1cDA0bWlRPT0=", "filters": {"properties": ["id", "email", "firstName", "lastName", "roleId", "createdAt"], "includeArchived": false, "dateRange": {"startDate": "2024-01-01", "endDate": "2024-12-31"}}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T11:55:03.660407Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-002", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T11:55:03.661877Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-002", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T11:55:03.666776Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.672381Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-002", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T11:55:03.680237Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.686136Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.689472Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-002", "status": "running"}
{"timestamp": "2025-09-29T11:55:03.690941Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:55:03.692328Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T11:55:03.694791Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.703246Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T11:55:03.705308Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T11:55:03.706921Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-002", "has_properties_filter": true, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T11:55:03.796865Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.802267Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.871712Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:03.875286Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-002", "status": "running"}
{"timestamp": "2025-09-29T11:55:03.877054Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-002", "status": "running"}
{"timestamp": "2025-09-29T11:55:03.880474Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-002", "status": "running"}
{"timestamp": "2025-09-29T11:55:03.882470Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-002", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T11:55:03.883748Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 200, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 6, "associations_count": 0}
{"timestamp": "2025-09-29T11:55:04.520901Z", "level": "ERROR", "logger": "services.api_service", "message": "Error fetching deals from HubSpot", "module": "api_service", "function": "get_deals", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "duration_ms": 629.33, "status_code": 401, "response_body": {"status": "error", "message": "Authentication credentials not found. This API supports OAuth 2.0 authentication and you can find more details at https://developers.hubspot.com/docs/methods/auth/oauth-overview", "correlationId": "3ea6ab22-ffce-43ed-b5d1-b594cb47929e", "category": "INVALID_AUTHENTICATION"}, "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:55:04.527072Z", "level": "WARNING", "logger": "services.api_service", "message": "API call failed: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 338, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 401, "api_duration_ms": 629.33}
{"timestamp": "2025-09-29T11:55:04.537739Z", "level": "ERROR", "logger": "services.data_source", "message": "Error fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 330, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-002", "page_number": 1, "error": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "HTTPError", "message": "401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:55:04.553279Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-002", "page_number": 0}
{"timestamp": "2025-09-29T11:55:04.562019Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-002"}
{"timestamp": "2025-09-29T11:55:04.567401Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-002", "phase": "deals_error", "page_number": 0, "records_processed": 0}
{"timestamp": "2025-09-29T11:55:04.618715Z", "level": "ERROR", "logger": "services.extraction_service", "message": "Scan execution failed", "module": "extraction_service", "function": "_execute_scan", "line": 381, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-002", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146903.8641534` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "exception": {"type": "PipelineStepFailed", "message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146903.8641534` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt", "traceback": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 274, in _get_source_item\n    pipe_item = next(gen)\n                ^^^^^^^^^\n  File \"/app/services/data_source.py\", line 359, in get_deals_data\n    raise e\n  File \"/app/services/data_source.py\", line 200, in get_deals_data\n    data = api_service.get_deals(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/services/api_service.py\", line 249, in get_deals\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/requests/models.py\", line 1021, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 476, in extract\n    self._extract_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 1308, in _extract_source\n    load_id = extract.extract(\n              ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 473, in extract\n    self._extract_single_source(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/extract.py\", line 397, in _extract_single_source\n    for pipe_item in pipes:\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 158, in __next__\n    pipe_item = self._get_source_item()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/extract/pipe_iterator.py\", line 304, in _get_source_item\n    raise ResourceExtractionError(pipe.name, gen, str(ex), \"generator\") from ex\ndlt.extract.exceptions.ResourceExtractionError: In processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/services/extraction_service.py\", line 333, in _execute_scan\n    pipeline.run(source_functions)\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 724, in run\n    self.extract(\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 223, in _wrap\n    step_info = f(self, *args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 177, in _wrap\n    rv = f(self, *args, **kwargs)\n         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 163, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 272, in _wrap\n    return f(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/dlt/pipeline/pipeline.py\", line 497, in extract\n    raise PipelineStepFailed(\ndlt.pipeline.exceptions.PipelineStepFailed: Pipeline execution failed at `step=extract` when processing package with `load_id=1759146903.8641534` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}}
{"timestamp": "2025-09-29T11:55:04.640017Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-002", "old_status": "running", "new_status": "failed"}
{"timestamp": "2025-09-29T11:55:04.645516Z", "level": "ERROR", "logger": "services.job_service", "message": "Job failed", "module": "job_service", "function": "fail_job", "line": 247, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "fail_job", "job_id": "hubspot-users-scan-2025-002", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146903.8641534` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:55:04.647230Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-002", "error_message": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146903.8641534` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:55:04.648809Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_failed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_failed", "event_type": "business", "job_id": "hubspot-users-scan-2025-002", "error": "Pipeline execution failed at `step=extract` when processing package with `load_id=1759146903.8641534` with exception:\n\n<class 'dlt.extract.exceptions.ResourceExtractionError'>\nIn processing pipe `hubspot_deals`: extraction of resource `hubspot_deals` in `generator` `get_deals_data` caused an exception: 401 Client Error: Unauthorized for url: https://api.hubapi.com/crm/v3/objects/deals?limit=100&archived=false&properties=id%2Cemail%2CfirstName%2ClastName%2CroleId%2CcreatedAt"}
{"timestamp": "2025-09-29T11:55:12.008263Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ec1b2de2-db32-466a-b198-d1f6e7c2cb6d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:55:12.028070Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:55:12.029523Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ec1b2de2-db32-466a-b198-d1f6e7c2cb6d", "status": "healthy"}
{"timestamp": "2025-09-29T11:55:12.031621Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ec1b2de2-db32-466a-b198-d1f6e7c2cb6d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.32, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:55:42.123707Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "18260b4b-1544-42ea-b2b7-3bde2d0bbfb0", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:55:42.147561Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:55:42.148956Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "18260b4b-1544-42ea-b2b7-3bde2d0bbfb0", "status": "healthy"}
{"timestamp": "2025-09-29T11:55:42.150892Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "18260b4b-1544-42ea-b2b7-3bde2d0bbfb0", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 27.3, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:56:05.948911Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T11:56:05.952121Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T11:56:05.953399Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.024105Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.025497Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.026955Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.038501Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.039805Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.041803Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.043141Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:06.045423Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T11:56:06.046892Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T11:56:06.050420Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T11:56:06.073908Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:12.260568Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "77caf393-6609-4503-b2ba-e5b0dab62b12", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:56:12.346247Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:12.347566Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "77caf393-6609-4503-b2ba-e5b0dab62b12", "status": "healthy"}
{"timestamp": "2025-09-29T11:56:12.349614Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "77caf393-6609-4503-b2ba-e5b0dab62b12", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 88.78, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:56:42.447558Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "034471be-7d02-44d5-8237-18e68f6d6375", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:56:42.466925Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:56:42.468300Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "034471be-7d02-44d5-8237-18e68f6d6375", "status": "healthy"}
{"timestamp": "2025-09-29T11:56:42.470372Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "034471be-7d02-44d5-8237-18e68f6d6375", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.9, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:57:12.564339Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c13e4361-d8cc-4e55-a53f-b9ed682e296a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:57:12.588641Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:57:12.589889Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c13e4361-d8cc-4e55-a53f-b9ed682e296a", "status": "healthy"}
{"timestamp": "2025-09-29T11:57:12.591889Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c13e4361-d8cc-4e55-a53f-b9ed682e296a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 27.46, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:57:42.675910Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9d7799de-31c3-4473-bc1e-eff5b9877962", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:57:42.696111Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:57:42.697392Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9d7799de-31c3-4473-bc1e-eff5b9877962", "status": "healthy"}
{"timestamp": "2025-09-29T11:57:42.699467Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9d7799de-31c3-4473-bc1e-eff5b9877962", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.33, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:58:12.788551Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f03593e-e127-4851-8834-a646cad4afb1", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:58:12.818463Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:58:12.819635Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f03593e-e127-4851-8834-a646cad4afb1", "status": "healthy"}
{"timestamp": "2025-09-29T11:58:12.821458Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f03593e-e127-4851-8834-a646cad4afb1", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 32.79, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:58:42.911055Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2dd63e94-860e-4d2e-9261-8f68185e506a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:58:42.929845Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:58:42.931219Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2dd63e94-860e-4d2e-9261-8f68185e506a", "status": "healthy"}
{"timestamp": "2025-09-29T11:58:42.933540Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2dd63e94-860e-4d2e-9261-8f68185e506a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.32, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:59:13.030801Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9c59aab0-ed50-4463-8251-0761cda46c5c", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:59:13.053206Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:59:13.054422Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9c59aab0-ed50-4463-8251-0761cda46c5c", "status": "healthy"}
{"timestamp": "2025-09-29T11:59:13.056257Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9c59aab0-ed50-4463-8251-0761cda46c5c", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.13, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T11:59:43.195053Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5abfe5f1-1341-426b-af43-f2d442c50e2b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T11:59:43.233996Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T11:59:43.236361Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5abfe5f1-1341-426b-af43-f2d442c50e2b", "status": "healthy"}
{"timestamp": "2025-09-29T11:59:43.239241Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5abfe5f1-1341-426b-af43-f2d442c50e2b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 45.08, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:00:13.335542Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5f14ece-28b4-4215-aa12-f2f331e1f607", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:00:13.357036Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:00:13.358287Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5f14ece-28b4-4215-aa12-f2f331e1f607", "status": "healthy"}
{"timestamp": "2025-09-29T12:00:13.360198Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5f14ece-28b4-4215-aa12-f2f331e1f607", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.37, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:00:43.471839Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "737239f2-b9c7-4165-b887-847ad4970a28", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:00:43.492144Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:00:43.493533Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "737239f2-b9c7-4165-b887-847ad4970a28", "status": "healthy"}
{"timestamp": "2025-09-29T12:00:43.495647Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "737239f2-b9c7-4165-b887-847ad4970a28", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.78, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:01:03.448817Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T12:01:03.452049Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T12:01:03.453261Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.528109Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.529545Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.531152Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.545532Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.546949Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.548768Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.550918Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:03.553850Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T12:01:03.556008Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T12:01:03.560479Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T12:01:04.909566Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T12:01:04.913538Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T12:01:04.915732Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.001922Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.003236Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.005329Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.020187Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.021578Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.022981Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.024420Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:05.026800Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T12:01:05.028583Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T12:01:05.034036Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T12:01:05.060174Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:07.375011Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "eb2b0459-4cf1-4f67-b79b-b7d8db46d296", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:01:07.470491Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:07.471769Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "eb2b0459-4cf1-4f67-b79b-b7d8db46d296", "status": "healthy"}
{"timestamp": "2025-09-29T12:01:07.473745Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "eb2b0459-4cf1-4f67-b79b-b7d8db46d296", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 98.74, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:01:37.588246Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2841b1ae-d6f1-43f3-a0db-4f3529bd6491", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:01:37.608269Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:01:37.609602Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2841b1ae-d6f1-43f3-a0db-4f3529bd6491", "status": "healthy"}
{"timestamp": "2025-09-29T12:01:37.611681Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2841b1ae-d6f1-43f3-a0db-4f3529bd6491", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.29, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:02:07.721032Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9e577fd9-f5d4-4211-8921-e035ad4238b1", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:02:07.743585Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:02:07.744753Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9e577fd9-f5d4-4211-8921-e035ad4238b1", "status": "healthy"}
{"timestamp": "2025-09-29T12:02:07.746727Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9e577fd9-f5d4-4211-8921-e035ad4238b1", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.66, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:02:37.852893Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "cc25cde7-5602-4cbc-98ac-2bc670ce4007", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:02:37.872984Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:02:37.874381Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "cc25cde7-5602-4cbc-98ac-2bc670ce4007", "status": "healthy"}
{"timestamp": "2025-09-29T12:02:37.876564Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "cc25cde7-5602-4cbc-98ac-2bc670ce4007", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.34, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:03:07.956277Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5940a24c-06f1-403f-aeac-a77fb4deb315", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:03:07.976288Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:03:07.977475Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5940a24c-06f1-403f-aeac-a77fb4deb315", "status": "healthy"}
{"timestamp": "2025-09-29T12:03:07.979649Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5940a24c-06f1-403f-aeac-a77fb4deb315", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.08, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:03:38.082065Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "77e361a0-b9f7-47f2-8596-4fb6dbc2a6f7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:03:38.101498Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:03:38.103647Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "77e361a0-b9f7-47f2-8596-4fb6dbc2a6f7", "status": "healthy"}
{"timestamp": "2025-09-29T12:03:38.106102Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "77e361a0-b9f7-47f2-8596-4fb6dbc2a6f7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.95, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:04:08.199526Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5364276b-66ae-42f2-9045-870c2c9ebdb7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:04:08.220275Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:04:08.221795Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5364276b-66ae-42f2-9045-870c2c9ebdb7", "status": "healthy"}
{"timestamp": "2025-09-29T12:04:08.223765Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5364276b-66ae-42f2-9045-870c2c9ebdb7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.06, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:04:38.317510Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f680a50d-1566-4687-a466-bd8ed49acbd7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:04:38.338987Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:04:38.341137Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f680a50d-1566-4687-a466-bd8ed49acbd7", "status": "healthy"}
{"timestamp": "2025-09-29T12:04:38.343614Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f680a50d-1566-4687-a466-bd8ed49acbd7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.78, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:04:44.380192Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8a80f55e-969a-4050-868e-84fe56d0103b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 517, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T12:04:44.381916Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8a80f55e-969a-4050-868e-84fe56d0103b", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T12:04:44.419184Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-002", "status": "failed"}
{"timestamp": "2025-09-29T12:04:44.421972Z", "level": "WARNING", "logger": "api.routes", "message": "Duplicate scan attempt", "module": "routes", "function": "post", "line": 116, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8a80f55e-969a-4050-868e-84fe56d0103b", "scan_id": "hubspot-users-scan-2025-002", "existing_status": "failed"}
{"timestamp": "2025-09-29T12:04:44.424892Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 409", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8a80f55e-969a-4050-868e-84fe56d0103b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 409, "duration_ms": 44.37, "response_size": 179, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T12:05:08.429209Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9eb7125f-1350-430c-8e70-75d7f7ab987d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:05:08.463450Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:05:08.465295Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9eb7125f-1350-430c-8e70-75d7f7ab987d", "status": "healthy"}
{"timestamp": "2025-09-29T12:05:08.467365Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9eb7125f-1350-430c-8e70-75d7f7ab987d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 38.2, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:05:38.564576Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d84243a2-7387-4a1f-85b0-9a37387f9582", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:05:38.585338Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:05:38.586738Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d84243a2-7387-4a1f-85b0-9a37387f9582", "status": "healthy"}
{"timestamp": "2025-09-29T12:05:38.588627Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d84243a2-7387-4a1f-85b0-9a37387f9582", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.05, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:06:08.680818Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1b668aa5-9f59-4e7a-bfaa-1b5c8d5f04cb", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:06:08.701214Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:06:08.702743Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1b668aa5-9f59-4e7a-bfaa-1b5c8d5f04cb", "status": "healthy"}
{"timestamp": "2025-09-29T12:06:08.704612Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1b668aa5-9f59-4e7a-bfaa-1b5c8d5f04cb", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.6, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:06:38.809909Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ebd2c343-ea07-4965-b245-5c5d9db12d9c", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:06:38.831735Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:06:38.833521Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ebd2c343-ea07-4965-b245-5c5d9db12d9c", "status": "healthy"}
{"timestamp": "2025-09-29T12:06:38.835485Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "ebd2c343-ea07-4965-b245-5c5d9db12d9c", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.4, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:07:08.918832Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3056991c-d447-45a5-ab71-4816a56a166d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:07:08.939922Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:07:08.941213Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3056991c-d447-45a5-ab71-4816a56a166d", "status": "healthy"}
{"timestamp": "2025-09-29T12:07:08.943193Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3056991c-d447-45a5-ab71-4816a56a166d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.16, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:07:39.064388Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ed005da-b7df-40db-8bbf-d2d3cbdf2e54", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:07:39.085702Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:07:39.086946Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ed005da-b7df-40db-8bbf-d2d3cbdf2e54", "status": "healthy"}
{"timestamp": "2025-09-29T12:07:39.088870Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5ed005da-b7df-40db-8bbf-d2d3cbdf2e54", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.41, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:08:09.207456Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "40cfb839-3fe1-4989-bf8d-a7101e63dd87", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:08:09.227342Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:08:09.228835Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "40cfb839-3fe1-4989-bf8d-a7101e63dd87", "status": "healthy"}
{"timestamp": "2025-09-29T12:08:09.230669Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "40cfb839-3fe1-4989-bf8d-a7101e63dd87", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.22, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:08:39.342097Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "429fef6b-699d-451b-ac2f-b684e7e425e6", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:08:39.360993Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:08:39.362501Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "429fef6b-699d-451b-ac2f-b684e7e425e6", "status": "healthy"}
{"timestamp": "2025-09-29T12:08:39.364242Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "429fef6b-699d-451b-ac2f-b684e7e425e6", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.27, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:09:09.475282Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "93b139fe-ed35-4eb2-a6a2-010147f35c91", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:09:09.495576Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:09:09.496947Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "93b139fe-ed35-4eb2-a6a2-010147f35c91", "status": "healthy"}
{"timestamp": "2025-09-29T12:09:09.499046Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "93b139fe-ed35-4eb2-a6a2-010147f35c91", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.17, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:09:39.604248Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "008b0dcf-ba3c-4ba9-8986-c88b2ffa5dfb", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:09:39.623532Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:09:39.624990Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "008b0dcf-ba3c-4ba9-8986-c88b2ffa5dfb", "status": "healthy"}
{"timestamp": "2025-09-29T12:09:39.627134Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "008b0dcf-ba3c-4ba9-8986-c88b2ffa5dfb", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.68, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:10:09.722635Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "287619ad-df9a-4253-88eb-2e9c9c32b0e8", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:10:09.741983Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:10:09.743273Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "287619ad-df9a-4253-88eb-2e9c9c32b0e8", "status": "healthy"}
{"timestamp": "2025-09-29T12:10:09.745086Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "287619ad-df9a-4253-88eb-2e9c9c32b0e8", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.11, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:10:39.847523Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9110e419-b73e-4279-acee-4bc379e75a48", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:10:39.867779Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:10:39.869133Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9110e419-b73e-4279-acee-4bc379e75a48", "status": "healthy"}
{"timestamp": "2025-09-29T12:10:39.871465Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9110e419-b73e-4279-acee-4bc379e75a48", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.25, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:11:09.970448Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e80c8ae5-4fcd-4afd-a523-d9cf330d81a8", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:11:09.991238Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:11:09.992576Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e80c8ae5-4fcd-4afd-a523-d9cf330d81a8", "status": "healthy"}
{"timestamp": "2025-09-29T12:11:09.994567Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e80c8ae5-4fcd-4afd-a523-d9cf330d81a8", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.8, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:11:40.090486Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "633868bd-28e6-4539-8231-05954288becd", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:11:40.110080Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:11:40.111409Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "633868bd-28e6-4539-8231-05954288becd", "status": "healthy"}
{"timestamp": "2025-09-29T12:11:40.113495Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "633868bd-28e6-4539-8231-05954288becd", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.84, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:12:10.216206Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8825dca9-bcbd-4691-91b8-223bea27e7ba", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:12:10.234539Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:12:10.235788Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8825dca9-bcbd-4691-91b8-223bea27e7ba", "status": "healthy"}
{"timestamp": "2025-09-29T12:12:10.237882Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8825dca9-bcbd-4691-91b8-223bea27e7ba", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 21.48, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:12:40.712361Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1874c856-fd8b-4bf2-a52a-efaeca364795", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:12:40.734548Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:12:40.735930Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1874c856-fd8b-4bf2-a52a-efaeca364795", "status": "healthy"}
{"timestamp": "2025-09-29T12:12:40.737985Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1874c856-fd8b-4bf2-a52a-efaeca364795", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.55, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:13:10.862334Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "6df2a29c-5dbd-4faf-87a7-a661cdffe030", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:13:10.882317Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:13:10.883592Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "6df2a29c-5dbd-4faf-87a7-a661cdffe030", "status": "healthy"}
{"timestamp": "2025-09-29T12:13:10.885512Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "6df2a29c-5dbd-4faf-87a7-a661cdffe030", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.09, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:13:41.172131Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3b8fb3c0-08ce-4b91-894d-0628516dfa71", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:13:41.193654Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:13:41.194975Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3b8fb3c0-08ce-4b91-894d-0628516dfa71", "status": "healthy"}
{"timestamp": "2025-09-29T12:13:41.197539Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "3b8fb3c0-08ce-4b91-894d-0628516dfa71", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.13, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:14:11.303023Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e10ef7f0-efac-4a29-b40e-24602af734d5", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:14:11.322963Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:14:11.324306Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e10ef7f0-efac-4a29-b40e-24602af734d5", "status": "healthy"}
{"timestamp": "2025-09-29T12:14:11.326194Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "e10ef7f0-efac-4a29-b40e-24602af734d5", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.94, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:14:41.425927Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f2a5f487-e5a8-457b-ac2b-b54587f7e814", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:14:41.451402Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:14:41.452733Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f2a5f487-e5a8-457b-ac2b-b54587f7e814", "status": "healthy"}
{"timestamp": "2025-09-29T12:14:41.454781Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "f2a5f487-e5a8-457b-ac2b-b54587f7e814", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 28.53, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:15:11.543933Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d9505ea7-a523-4270-a64f-8ba522b2fa61", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:15:11.562740Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:15:11.563847Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d9505ea7-a523-4270-a64f-8ba522b2fa61", "status": "healthy"}
{"timestamp": "2025-09-29T12:15:11.565567Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d9505ea7-a523-4270-a64f-8ba522b2fa61", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 21.49, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:15:41.766600Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1fb2e5ba-c5dc-4fe1-bd29-7cc07b1b7d50", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:15:41.786943Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:15:41.788283Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1fb2e5ba-c5dc-4fe1-bd29-7cc07b1b7d50", "status": "healthy"}
{"timestamp": "2025-09-29T12:15:41.790112Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1fb2e5ba-c5dc-4fe1-bd29-7cc07b1b7d50", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.47, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:16:11.888151Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1cb11c6f-2094-4728-821a-6dd2b61fb6db", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:16:11.916821Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:16:11.919316Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1cb11c6f-2094-4728-821a-6dd2b61fb6db", "status": "healthy"}
{"timestamp": "2025-09-29T12:16:11.923451Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "1cb11c6f-2094-4728-821a-6dd2b61fb6db", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 34.22, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:16:42.079546Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4c78b887-fbc1-489e-9d6f-a406de6323ff", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:16:42.102414Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:16:42.103937Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4c78b887-fbc1-489e-9d6f-a406de6323ff", "status": "healthy"}
{"timestamp": "2025-09-29T12:16:42.105979Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4c78b887-fbc1-489e-9d6f-a406de6323ff", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.03, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:17:12.240104Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36729c8c-4329-4995-b86e-74cb20bc24be", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:17:12.265003Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:12.266207Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36729c8c-4329-4995-b86e-74cb20bc24be", "status": "healthy"}
{"timestamp": "2025-09-29T12:17:12.268078Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "36729c8c-4329-4995-b86e-74cb20bc24be", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 27.99, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:17:42.458793Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d46d81ff-b6dc-4046-809d-9601de25f519", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:17:42.479192Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:42.480515Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d46d81ff-b6dc-4046-809d-9601de25f519", "status": "healthy"}
{"timestamp": "2025-09-29T12:17:42.482578Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d46d81ff-b6dc-4046-809d-9601de25f519", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.55, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:17:58.378281Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T12:17:58.381187Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T12:17:58.382524Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.471926Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.473223Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.474606Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.487126Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.488536Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.490030Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.491496Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:17:58.494073Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T12:17:58.495464Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T12:17:58.499442Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T12:17:59.877776Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T12:17:59.880576Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T12:17:59.881865Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.012381Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.013715Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.015326Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.042200Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.043670Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.045043Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.046744Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:00.049797Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T12:18:00.051868Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T12:18:00.056196Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T12:18:00.092362Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:01.647593Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b4cc2f7c-64f3-4165-a75e-11002152afca", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:18:01.799267Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:01.800655Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b4cc2f7c-64f3-4165-a75e-11002152afca", "status": "healthy"}
{"timestamp": "2025-09-29T12:18:01.803755Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b4cc2f7c-64f3-4165-a75e-11002152afca", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 155.66, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:18:31.904135Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "437364f0-3c6c-411f-8d20-a69c8c04839f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:18:31.924499Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:18:31.925843Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "437364f0-3c6c-411f-8d20-a69c8c04839f", "status": "healthy"}
{"timestamp": "2025-09-29T12:18:31.927898Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "437364f0-3c6c-411f-8d20-a69c8c04839f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.68, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:19:02.029348Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c75e69bc-76b2-48d2-9dba-0c0a637628ce", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:19:02.048273Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:19:02.049753Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c75e69bc-76b2-48d2-9dba-0c0a637628ce", "status": "healthy"}
{"timestamp": "2025-09-29T12:19:02.051791Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c75e69bc-76b2-48d2-9dba-0c0a637628ce", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.6, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:19:32.174754Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "00bd9682-d03f-4418-95dc-37a1578489cf", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:19:32.193986Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:19:32.195613Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "00bd9682-d03f-4418-95dc-37a1578489cf", "status": "healthy"}
{"timestamp": "2025-09-29T12:19:32.197594Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "00bd9682-d03f-4418-95dc-37a1578489cf", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.88, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:20:02.299143Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5e9f9dd1-4674-4b4f-89df-76a8b6072112", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:20:02.319535Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:20:02.320744Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5e9f9dd1-4674-4b4f-89df-76a8b6072112", "status": "healthy"}
{"timestamp": "2025-09-29T12:20:02.322439Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5e9f9dd1-4674-4b4f-89df-76a8b6072112", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.3, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:20:32.430578Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b7a6d7cf-22da-49b3-942f-b039b1c637f4", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:20:32.450838Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:20:32.452007Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b7a6d7cf-22da-49b3-942f-b039b1c637f4", "status": "healthy"}
{"timestamp": "2025-09-29T12:20:32.453980Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b7a6d7cf-22da-49b3-942f-b039b1c637f4", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.27, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:21:02.539887Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f18b2ed-e435-47f8-aae8-15bb8bf9eefd", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:21:02.559533Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:21:02.560715Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f18b2ed-e435-47f8-aae8-15bb8bf9eefd", "status": "healthy"}
{"timestamp": "2025-09-29T12:21:02.562675Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2f18b2ed-e435-47f8-aae8-15bb8bf9eefd", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.64, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:21:32.656301Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "93bfbd16-ec3c-41b9-a8ef-771a373c221b", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:21:32.675495Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:21:32.676950Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "93bfbd16-ec3c-41b9-a8ef-771a373c221b", "status": "healthy"}
{"timestamp": "2025-09-29T12:21:32.678952Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "93bfbd16-ec3c-41b9-a8ef-771a373c221b", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.48, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:22:02.784020Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d2f9a5c2-2e27-4569-b68c-8765f006a2ee", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:22:02.802458Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:22:02.803736Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d2f9a5c2-2e27-4569-b68c-8765f006a2ee", "status": "healthy"}
{"timestamp": "2025-09-29T12:22:02.805709Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d2f9a5c2-2e27-4569-b68c-8765f006a2ee", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 21.7, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:22:32.901649Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5381cce9-5387-4ad6-a1d3-175425f37fdd", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:22:32.922055Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:22:32.923225Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5381cce9-5387-4ad6-a1d3-175425f37fdd", "status": "healthy"}
{"timestamp": "2025-09-29T12:22:32.925206Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5381cce9-5387-4ad6-a1d3-175425f37fdd", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.11, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:23:03.042186Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c40ca893-6164-4a83-814e-4c5f1e98588e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:23:03.065494Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:23:03.066808Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c40ca893-6164-4a83-814e-4c5f1e98588e", "status": "healthy"}
{"timestamp": "2025-09-29T12:23:03.068893Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "c40ca893-6164-4a83-814e-4c5f1e98588e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.58, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:23:33.161486Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "73c94c4c-7c38-41a4-b17b-afa2ad87e9ae", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:23:33.182147Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:23:33.183470Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "73c94c4c-7c38-41a4-b17b-afa2ad87e9ae", "status": "healthy"}
{"timestamp": "2025-09-29T12:23:33.185337Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "73c94c4c-7c38-41a4-b17b-afa2ad87e9ae", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.79, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:24:03.283584Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "69c6c215-5d02-455c-a75c-e8153526c4d3", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:24:03.302965Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:24:03.304308Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "69c6c215-5d02-455c-a75c-e8153526c4d3", "status": "healthy"}
{"timestamp": "2025-09-29T12:24:03.307122Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "69c6c215-5d02-455c-a75c-e8153526c4d3", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.28, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:24:12.573062Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5ece1a1-2885-4e17-b73e-3d1df57a3f11", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T12:24:12.605464Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T12:24:12.610522Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "failed"}
{"timestamp": "2025-09-29T12:24:12.622092Z", "level": "INFO", "logger": "services.job_service", "message": "Job removed", "module": "job_service", "function": "remove_job", "line": 763, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_job", "job_id": "hubspot-users-scan-2025-001", "deleted_checkpoints": 1}
{"timestamp": "2025-09-29T12:24:12.623309Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_removed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:12.624730Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan removed successfully", "module": "extraction_service", "function": "remove_scan", "line": 698, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "remove_scan", "scan_id": "hubspot-users-scan-2025-001", "tables_removed": 0}
{"timestamp": "2025-09-29T12:24:12.626166Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:12.628179Z", "level": "INFO", "logger": "api.routes", "message": "Scan removed", "module": "routes", "function": "delete", "line": 688, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5ece1a1-2885-4e17-b73e-3d1df57a3f11", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:12.629647Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_removed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_removed", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:12.631292Z", "level": "INFO", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b5ece1a1-2885-4e17-b73e-3d1df57a3f11", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 200, "duration_ms": 58.1, "response_size": 226, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T12:24:15.533702Z", "level": "INFO", "logger": "app.request", "message": "Request started: DELETE /api/scan/hubspot-users-scan-2025-001/remove", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "04962f2b-37a5-4f2c-8fa3-ad0d299aac67", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T12:24:15.539146Z", "level": "WARNING", "logger": "api.routes", "message": "Cannot remove scan: not found", "module": "routes", "function": "delete", "line": 659, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "04962f2b-37a5-4f2c-8fa3-ad0d299aac67", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:15.540823Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: DELETE /api/scan/hubspot-users-scan-2025-001/remove - 404", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "04962f2b-37a5-4f2c-8fa3-ad0d299aac67", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "DELETE", "path": "/api/scan/hubspot-users-scan-2025-001/remove", "status_code": 404, "duration_ms": 11.32, "response_size": 161, "content_type": "application/json", "endpoint": "scan_remove_scan"}
{"timestamp": "2025-09-29T12:24:20.844497Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "601db9bb-e224-40d7-902b-5bfbc2fa4bf9", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 517, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T12:24:20.846145Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "601db9bb-e224-40d7-902b-5bfbc2fa4bf9", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T12:24:20.856879Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-002", "status": "failed"}
{"timestamp": "2025-09-29T12:24:20.858693Z", "level": "WARNING", "logger": "api.routes", "message": "Duplicate scan attempt", "module": "routes", "function": "post", "line": 116, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "601db9bb-e224-40d7-902b-5bfbc2fa4bf9", "scan_id": "hubspot-users-scan-2025-002", "existing_status": "failed"}
{"timestamp": "2025-09-29T12:24:20.861239Z", "level": "WARNING", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 409", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "601db9bb-e224-40d7-902b-5bfbc2fa4bf9", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 409, "duration_ms": 16.23, "response_size": 179, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T12:24:29.567287Z", "level": "INFO", "logger": "app.request", "message": "Request started: POST /api/scan/start", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d88d63fc-ca6d-465e-8427-7e161485c795", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "POST", "path": "/api/scan/start", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": "application/json", "content_length": 517, "query_params": {}, "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T12:24:29.569109Z", "level": "INFO", "logger": "api.routes", "message": "Starting scan request", "module": "routes", "function": "post", "line": 69, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d88d63fc-ca6d-465e-8427-7e161485c795", "operation": "start_scan", "endpoint": "/scan/start"}
{"timestamp": "2025-09-29T12:24:29.575436Z", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: EpollSelector", "module": "selector_events", "function": "__init__", "line": 54, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:24:29.577602Z", "level": "INFO", "logger": "api.routes", "message": "Scan accepted for processing", "module": "routes", "function": "post", "line": 133, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d88d63fc-ca6d-465e-8427-7e161485c795", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T12:24:29.579427Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan initiation requested", "module": "extraction_service", "function": "start_scan", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "start_scan", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T12:24:29.580605Z", "level": "INFO", "logger": "api.routes", "message": "Business Event: scan_creation_accepted", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_creation_accepted", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T12:24:29.582074Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_initiated", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_initiated", "event_type": "business", "scan_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T12:24:29.583688Z", "level": "INFO", "logger": "app.request", "message": "Request completed: POST /api/scan/start - 202", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d88d63fc-ca6d-465e-8427-7e161485c795", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "POST", "path": "/api/scan/start", "status_code": 202, "duration_ms": 15.23, "response_size": 112, "content_type": "application/json", "endpoint": "scan_start_scan"}
{"timestamp": "2025-09-29T12:24:29.585441Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting scan setup", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 201, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.589046Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:24:29.592467Z", "level": "WARNING", "logger": "services.job_service", "message": "Job not found", "module": "job_service", "function": "get_job", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.594944Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T12:24:29.596675Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T12:24:29.755699Z", "level": "INFO", "logger": "services.job_service", "message": "Creating job", "module": "job_service", "function": "create_job", "line": 35, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_dict": {"scanId": "hubspot-users-scan-2025-001", "organizationId": "org-12345", "type": "user", "status": "pending", "startTime": "2025-09-29T12:24:29.753542+00:00", "endTime": null, "lastHeartbeat": null, "recordsExtracted": 0, "errorMessage": null, "config": {"auth": "Z0FBQUFBQm8ybnA5bTh0djVnSGFIc2xZNndmS21udFBHYWRzd1BRdjlJaUgwTW1lZUE0alpSZzFtLWZxUERmTnU2Tk5ZR3c4VmVValpMc2ZjTU5CUURiOGdXVklCWlZsc3dXZUFGSU1LS2VvOC15d3ZNdWNzbVJ2aUZ1dEJfNU1jQVpFVmh0RUtJQmlUVG1sRDdLc0tEcktQMGpSSHFLOF9BPT0=", "filters": {"properties": ["id", "email", "firstName", "lastName", "roleId", "createdAt"], "includeArchived": false, "dateRange": {"startDate": "2024-01-01", "endDate": "2024-12-31"}}, "type": ["user"]}, "metadata": null}}
{"timestamp": "2025-09-29T12:24:29.757126Z", "level": "INFO", "logger": "services.job_service", "message": "Job created", "module": "job_service", "function": "create_job", "line": 43, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "create_job", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345", "job_type": ["user"]}
{"timestamp": "2025-09-29T12:24:29.758636Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_created", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_created", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "organization_id": "org-12345"}
{"timestamp": "2025-09-29T12:24:29.763819Z", "level": "INFO", "logger": "services.extraction_service", "message": "Job created successfully", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 242, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.768932Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "pending", "new_status": "running"}
{"timestamp": "2025-09-29T12:24:29.775703Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.780711Z", "level": "INFO", "logger": "services.extraction_service", "message": "Setup completed, starting extraction", "module": "extraction_service", "function": "_execute_scan_with_setup", "line": 251, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "scan_setup", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.783545Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:29.784641Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Decrypting sensitive data", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Decrypting sensitive data", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T12:24:29.786136Z", "level": "INFO", "logger": "encrypter", "message": "Security Event: Encryption enabled: True", "module": "loki_logger", "function": "log_security_event", "line": 310, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "security_event", "event_name": "Encryption enabled: True", "event_type": "security", "severity": "INFO"}
{"timestamp": "2025-09-29T12:24:29.788186Z", "level": "INFO", "logger": "services.extraction_service", "message": "Starting pipeline execution", "module": "extraction_service", "function": "_execute_scan", "line": 292, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.792984Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot API service initialized", "module": "api_service", "function": "__init__", "line": 64, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_service_init", "base_url": "https://api.hubapi.com", "test_delay_seconds": 0.1}
{"timestamp": "2025-09-29T12:24:29.794120Z", "level": "DEBUG", "logger": "services.api_service", "message": "HubSpot access token set", "module": "api_service", "function": "set_access_token", "line": 78, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "token_set"}
{"timestamp": "2025-09-29T12:24:29.795323Z", "level": "INFO", "logger": "services.data_source", "message": "Initializing HubSpot deals data extraction", "module": "data_source", "function": "create_data_source", "line": 47, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "organization_id": "org-12345", "scan_id": "hubspot-users-scan-2025-001", "has_properties_filter": true, "has_associations": false, "include_archived": false}
{"timestamp": "2025-09-29T12:24:29.818476Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.823905Z", "level": "INFO", "logger": "services.extraction_service", "message": "DLT pipeline started", "module": "extraction_service", "function": "_execute_scan", "line": 328, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.894568Z", "level": "INFO", "logger": "services.data_source", "message": "Starting fresh HubSpot deals extraction", "module": "data_source", "function": "get_deals_data", "line": 109, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:29.898584Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:29.900817Z", "level": "INFO", "logger": "services.extraction_service", "message": "Cancel check performed", "module": "extraction_service", "function": "check_cancel_callback", "line": 113, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:29.904483Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:29.906507Z", "level": "DEBUG", "logger": "services.data_source", "message": "Fetching HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "batch_size": 100}
{"timestamp": "2025-09-29T12:24:29.907843Z", "level": "INFO", "logger": "services.api_service", "message": "Starting deal retrieval from HubSpot", "module": "api_service", "function": "get_deals", "line": 200, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "limit": 100, "has_cursor": false, "archived": false, "properties_count": 6, "associations_count": 0}
{"timestamp": "2025-09-29T12:24:31.212000Z", "level": "INFO", "logger": "services.api_service", "message": "Deals retrieved successfully from HubSpot", "module": "api_service", "function": "get_deals", "line": 257, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_deals", "status_code": 200, "duration_ms": 1304.0, "deals_count": 4, "has_more": false, "next_cursor": null}
{"timestamp": "2025-09-29T12:24:31.213345Z", "level": "INFO", "logger": "services.api_service", "message": "API call: hubspot_get_deals", "module": "loki_logger", "function": "log_api_call", "line": 340, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_call", "api_name": "hubspot_get_deals", "api_method": "GET", "api_status_code": 200, "api_duration_ms": 1304.0}
{"timestamp": "2025-09-29T12:24:31.217489Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:31.227485Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:31.231351Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:31.234979Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:31.236894Z", "level": "INFO", "logger": "services.data_source", "message": "Processed HubSpot deals page", "module": "data_source", "function": "get_deals_data", "line": 266, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "page_number": 1, "page_records": 4, "total_records": 4}
{"timestamp": "2025-09-29T12:24:31.241994Z", "level": "DEBUG", "logger": "services.job_service", "message": "Checkpoint saved", "module": "job_service", "function": "save_checkpoint", "line": 613, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "save_checkpoint", "job_id": "hubspot-users-scan-2025-001", "page_number": 1}
{"timestamp": "2025-09-29T12:24:31.249399Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job heartbeat updated", "module": "job_service", "function": "update_job_heartbeat", "line": 186, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_heartbeat", "job_id": "hubspot-users-scan-2025-001"}
{"timestamp": "2025-09-29T12:24:31.255076Z", "level": "DEBUG", "logger": "services.data_source", "message": "Checkpoint saved successfully", "module": "data_source", "function": "_save_checkpoint", "line": 500, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "phase": "deals_completed", "page_number": 1, "records_processed": 4}
{"timestamp": "2025-09-29T12:24:31.256261Z", "level": "INFO", "logger": "services.data_source", "message": "HubSpot deals extraction completed successfully", "module": "data_source", "function": "get_deals_data", "line": 318, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "deals_extraction", "scan_id": "hubspot-users-scan-2025-001", "total_records": 4, "total_pages": 1}
{"timestamp": "2025-09-29T12:24:31.604400Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "running"}
{"timestamp": "2025-09-29T12:24:31.609737Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "running", "new_status": "completed"}
{"timestamp": "2025-09-29T12:24:31.616209Z", "level": "INFO", "logger": "services.job_service", "message": "Job completed", "module": "job_service", "function": "complete_job", "line": 217, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "complete_job", "job_id": "hubspot-users-scan-2025-001", "records_extracted": 4}
{"timestamp": "2025-09-29T12:24:31.617788Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_completed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_completed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "records_extracted": 4}
{"timestamp": "2025-09-29T12:24:31.622682Z", "level": "INFO", "logger": "services.job_service", "message": "Job status updated", "module": "job_service", "function": "update_job_status", "line": 147, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "update_job_status", "job_id": "hubspot-users-scan-2025-001", "old_status": "completed", "new_status": "completed"}
{"timestamp": "2025-09-29T12:24:31.628198Z", "level": "INFO", "logger": "services.job_service", "message": "Job completed", "module": "job_service", "function": "complete_job", "line": 217, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "complete_job", "job_id": "hubspot-users-scan-2025-001", "records_extracted": 4}
{"timestamp": "2025-09-29T12:24:31.629368Z", "level": "INFO", "logger": "services.job_service", "message": "Business Event: job_completed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "job_completed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "records_extracted": 4}
{"timestamp": "2025-09-29T12:24:31.630718Z", "level": "INFO", "logger": "services.extraction_service", "message": "Scan completed successfully", "module": "extraction_service", "function": "_execute_scan", "line": 364, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "execute_scan", "job_id": "hubspot-users-scan-2025-001", "records_extracted": 4}
{"timestamp": "2025-09-29T12:24:31.632408Z", "level": "INFO", "logger": "services.extraction_service", "message": "Business Event: scan_completed", "module": "loki_logger", "function": "log_business_event", "line": 295, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "business_event", "event_name": "scan_completed", "event_type": "business", "job_id": "hubspot-users-scan-2025-001", "records_extracted": 4}
{"timestamp": "2025-09-29T12:24:33.399979Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "20c403ab-2236-4231-858c-17504da2f723", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:24:33.420467Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:24:33.421744Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "20c403ab-2236-4231-858c-17504da2f723", "status": "healthy"}
{"timestamp": "2025-09-29T12:24:33.423695Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "20c403ab-2236-4231-858c-17504da2f723", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.68, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:24:34.302895Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/scan/hubspot-users-scan-2025-001/status", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "dd27d2ff-e967-4d3a-adf3-8b4bcf23a613", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T12:24:34.310495Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job status retrieved", "module": "job_service", "function": "get_job_status", "line": 481, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job_status", "job_id": "hubspot-users-scan-2025-001", "status": "completed"}
{"timestamp": "2025-09-29T12:24:34.312231Z", "level": "DEBUG", "logger": "api.routes", "message": "Scan status retrieved", "module": "routes", "function": "get", "line": 188, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "dd27d2ff-e967-4d3a-adf3-8b4bcf23a613", "scan_id": "hubspot-users-scan-2025-001", "status": "completed"}
{"timestamp": "2025-09-29T12:24:34.314069Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/scan/hubspot-users-scan-2025-001/status - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "dd27d2ff-e967-4d3a-adf3-8b4bcf23a613", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/scan/hubspot-users-scan-2025-001/status", "status_code": 200, "duration_ms": 11.4, "response_size": 2605, "content_type": "application/json", "endpoint": "scan_scan_status"}
{"timestamp": "2025-09-29T12:25:03.517570Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5deee60f-3c97-4fe5-8204-7b8f8d42a7d7", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:25:03.545983Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:25:03.547601Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5deee60f-3c97-4fe5-8204-7b8f8d42a7d7", "status": "healthy"}
{"timestamp": "2025-09-29T12:25:03.549672Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5deee60f-3c97-4fe5-8204-7b8f8d42a7d7", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 31.81, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:25:23.166054Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/results/hubspot-users-scan-2025-001/result", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "23d6f2c8-353f-4ad7-83ca-42c64ad52a7d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/results/hubspot-users-scan-2025-001/result", "remote_addr": "172.18.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0", "content_type": null, "content_length": null, "query_params": {"offset": "0", "limit": "100", "tableName": "hubspot_deals"}, "endpoint": "results_get_scan_results"}
{"timestamp": "2025-09-29T12:25:23.171638Z", "level": "DEBUG", "logger": "services.job_service", "message": "Job retrieved", "module": "job_service", "function": "get_job", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_job", "job_id": "hubspot-users-scan-2025-001", "status": "completed"}
{"timestamp": "2025-09-29T12:25:23.237812Z", "level": "DEBUG", "logger": "services.database_service", "message": "Got columns from schema: ['deal_id', 'deal_name', 'amount', 'currency', 'deal_stage', 'deal_stage_label', 'pipeline_id', 'pipeline_label', 'close_date', 'created_at', 'updated_at', 'owner_id', 'owner_email', 'deal_type', 'is_archived', 'deal_url', '_extracted_at', '_scan_id', '_organization_id', '_page_number', '_source_service', 'properties__createdate', 'properties__hs_lastmodifieddate', 'properties__hs_object_id', '_dlt_load_id', '_dlt_id']", "module": "database_service", "function": "get_table_columns", "line": 33, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:25:23.241266Z", "level": "ERROR", "logger": "services.database_service", "message": "Error executing data query: column \"id\" does not exist\nLINE 3:             ORDER BY \"_extracted_at\" DESC, \"id\"\n                                                   ^\n", "module": "database_service", "function": "execute_data_query", "line": 81, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:25:23.250549Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Scan results retrieved", "module": "extraction_service", "function": "get_scan_results", "line": 552, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "get_scan_results", "scan_id": "hubspot-users-scan-2025-001", "table_name": "hubspot_deals", "records_returned": 0}
{"timestamp": "2025-09-29T12:25:23.252076Z", "level": "DEBUG", "logger": "api.routes", "message": "Results retrieved", "module": "routes", "function": "get", "line": 447, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "23d6f2c8-353f-4ad7-83ca-42c64ad52a7d", "scan_id": "hubspot-users-scan-2025-001", "table_name": "hubspot_deals", "count": 0}
{"timestamp": "2025-09-29T12:25:23.253904Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/results/hubspot-users-scan-2025-001/result - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "23d6f2c8-353f-4ad7-83ca-42c64ad52a7d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/results/hubspot-users-scan-2025-001/result", "status_code": 200, "duration_ms": 88.03, "response_size": 1155, "content_type": "application/json", "endpoint": "results_get_scan_results"}
{"timestamp": "2025-09-29T12:25:33.643672Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0aefcdec-24cf-43c3-bec8-1715d910f93d", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:25:33.714357Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:25:33.715938Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0aefcdec-24cf-43c3-bec8-1715d910f93d", "status": "healthy"}
{"timestamp": "2025-09-29T12:25:33.717645Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "0aefcdec-24cf-43c3-bec8-1715d910f93d", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 74.13, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:26:03.811284Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b0b971ef-a156-41c4-94fe-dc71ade4e025", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:26:03.832461Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:03.833699Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b0b971ef-a156-41c4-94fe-dc71ade4e025", "status": "healthy"}
{"timestamp": "2025-09-29T12:26:03.835563Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b0b971ef-a156-41c4-94fe-dc71ade4e025", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.93, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:26:17.643941Z", "level": "INFO", "logger": "loki_logger", "message": "Logging configured for development environment", "module": "loki_logger", "function": "setup_loki_logging", "line": 164, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "logging_setup", "console_level": "DEBUG", "file_level": "DEBUG", "log_file": "logs/app.log", "log_format": "json", "max_bytes": 10485760, "backup_count": 5, "console_format": "JSON", "file_format": "JSON"}
{"timestamp": "2025-09-29T12:26:17.646739Z", "level": "INFO", "logger": "loki_logger", "message": "Flask app logging configured with request/response hooks", "module": "loki_logger", "function": "configure_app_logging", "line": 602, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "app_logging_setup", "debug_process": "app_initialization", "debug_step": "logging_hooks_configured", "hooks_added": ["before_request", "after_request", "teardown_request"], "error_handlers_added": [400, 401, 404, 429, 500]}
{"timestamp": "2025-09-29T12:26:17.648076Z", "level": "INFO", "logger": "app", "message": "Loki logging enabled", "module": "app", "function": "setup_logging", "line": 80, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.723547Z", "level": "INFO", "logger": "models.database", "message": "Database connection initialized successfully (attempt 1/3)", "module": "database", "function": "_initialize", "line": 53, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.724948Z", "level": "INFO", "logger": "models.database", "message": "Connected to: postgres_dev:5432/hubspot_deals_data_dev", "module": "database", "function": "_initialize", "line": 57, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.726452Z", "level": "INFO", "logger": "models.database", "message": "Pool configuration: size=10, max_overflow=20", "module": "database", "function": "_initialize", "line": 58, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.739000Z", "level": "INFO", "logger": "models.database", "message": "Database tables created successfully: ['jobs', 'job_checkpoints']", "module": "database", "function": "init_tables", "line": 107, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.740769Z", "level": "DEBUG", "logger": "models.database", "message": "Schema: hubspot_deals_dev", "module": "database", "function": "init_tables", "line": 111, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.743031Z", "level": "DEBUG", "logger": "models.database", "message": "Tables created: 2", "module": "database", "function": "init_tables", "line": 112, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.744570Z", "level": "INFO", "logger": "models.database", "message": "Database initialization completed", "module": "database", "function": "initialize_database", "line": 252, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:17.747475Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "DLT environment configured", "module": "extraction_service", "function": "_setup_dlt_environment", "line": 56, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "dlt_env_setup", "vars_count": 5}
{"timestamp": "2025-09-29T12:26:17.748775Z", "level": "DEBUG", "logger": "services.extraction_service", "message": "Extraction service initialized", "module": "extraction_service", "function": "__init__", "line": 38, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "service_init", "source_type": "hubspot_deals", "pipeline_name": "hubspot_deals_extraction"}
{"timestamp": "2025-09-29T12:26:17.753317Z", "level": "INFO", "logger": "api.routes", "message": "API created successfully", "module": "routes", "function": "create_api", "line": 833, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "operation": "api_creation"}
{"timestamp": "2025-09-29T12:26:17.778381Z", "level": "WARNING", "logger": "werkzeug", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:33.933611Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8d9183a1-9e45-41c7-bb61-02cd4f9186a8", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:26:34.016069Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:26:34.018317Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8d9183a1-9e45-41c7-bb61-02cd4f9186a8", "status": "healthy"}
{"timestamp": "2025-09-29T12:26:34.021410Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "8d9183a1-9e45-41c7-bb61-02cd4f9186a8", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 87.0, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:27:04.129699Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b89ee344-b807-462d-83e3-86c2a3755f1c", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:27:04.160026Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:27:04.161502Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b89ee344-b807-462d-83e3-86c2a3755f1c", "status": "healthy"}
{"timestamp": "2025-09-29T12:27:04.163779Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "b89ee344-b807-462d-83e3-86c2a3755f1c", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 33.8, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:27:34.249230Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "30f41d68-1ec1-428b-a3ee-5f74d71fcc3f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:27:34.271359Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:27:34.272983Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "30f41d68-1ec1-428b-a3ee-5f74d71fcc3f", "status": "healthy"}
{"timestamp": "2025-09-29T12:27:34.275032Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "30f41d68-1ec1-428b-a3ee-5f74d71fcc3f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.55, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:28:04.407744Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "598f12ef-56d5-402c-8752-6f05846f467f", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:28:04.429457Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:28:04.430867Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "598f12ef-56d5-402c-8752-6f05846f467f", "status": "healthy"}
{"timestamp": "2025-09-29T12:28:04.432914Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "598f12ef-56d5-402c-8752-6f05846f467f", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.92, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:28:34.523028Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "6bebaeaf-981c-4aa2-8726-3e4fe951f4b9", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:28:34.543590Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:28:34.544928Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "6bebaeaf-981c-4aa2-8726-3e4fe951f4b9", "status": "healthy"}
{"timestamp": "2025-09-29T12:28:34.546992Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "6bebaeaf-981c-4aa2-8726-3e4fe951f4b9", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.89, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:29:04.646730Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2ce8debb-7527-4e71-b73d-122b55878c5a", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:29:04.667278Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:29:04.668687Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2ce8debb-7527-4e71-b73d-122b55878c5a", "status": "healthy"}
{"timestamp": "2025-09-29T12:29:04.670665Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "2ce8debb-7527-4e71-b73d-122b55878c5a", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.99, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:29:34.776247Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "adf70dac-b7f8-4eff-a74f-6b989b1374a5", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:29:34.799122Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:29:34.800565Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "adf70dac-b7f8-4eff-a74f-6b989b1374a5", "status": "healthy"}
{"timestamp": "2025-09-29T12:29:34.802541Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "adf70dac-b7f8-4eff-a74f-6b989b1374a5", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 26.39, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:30:04.890101Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4ca7b8b9-c072-41e4-9ecb-7ab0a047f411", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:30:04.911734Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:30:04.913127Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4ca7b8b9-c072-41e4-9ecb-7ab0a047f411", "status": "healthy"}
{"timestamp": "2025-09-29T12:30:04.914926Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4ca7b8b9-c072-41e4-9ecb-7ab0a047f411", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.86, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:30:35.013243Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "bb64aa9b-3e9c-4515-a8d5-a72c3c3f1584", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:30:35.032415Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:30:35.033580Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "bb64aa9b-3e9c-4515-a8d5-a72c3c3f1584", "status": "healthy"}
{"timestamp": "2025-09-29T12:30:35.035632Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "bb64aa9b-3e9c-4515-a8d5-a72c3c3f1584", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.1, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:31:05.118112Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "aaf5ccdf-5502-4bed-b1a1-b01a32ed3ce4", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:31:05.138186Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:31:05.139567Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "aaf5ccdf-5502-4bed-b1a1-b01a32ed3ce4", "status": "healthy"}
{"timestamp": "2025-09-29T12:31:05.141882Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "aaf5ccdf-5502-4bed-b1a1-b01a32ed3ce4", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.28, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:31:35.252085Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4e9ab702-823d-4d5e-b370-9c529b16675e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:31:35.274624Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:31:35.276164Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4e9ab702-823d-4d5e-b370-9c529b16675e", "status": "healthy"}
{"timestamp": "2025-09-29T12:31:35.277857Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4e9ab702-823d-4d5e-b370-9c529b16675e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.79, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:32:05.398044Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "85469162-16c3-415c-9c91-c44337fba4e9", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:32:05.437474Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:32:05.438813Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "85469162-16c3-415c-9c91-c44337fba4e9", "status": "healthy"}
{"timestamp": "2025-09-29T12:32:05.441576Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "85469162-16c3-415c-9c91-c44337fba4e9", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 43.0, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:32:35.534872Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fd503250-1b1f-43e1-b0c5-abce2ab559e6", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:32:35.553807Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:32:35.555047Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fd503250-1b1f-43e1-b0c5-abce2ab559e6", "status": "healthy"}
{"timestamp": "2025-09-29T12:32:35.556889Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fd503250-1b1f-43e1-b0c5-abce2ab559e6", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.05, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:33:05.667965Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7659ec9f-9558-4886-8e1d-8e285bd6448e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:33:05.687291Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:33:05.688756Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7659ec9f-9558-4886-8e1d-8e285bd6448e", "status": "healthy"}
{"timestamp": "2025-09-29T12:33:05.690746Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "7659ec9f-9558-4886-8e1d-8e285bd6448e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 22.7, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:33:35.797674Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4748cc77-6613-46d9-9924-7b8f877b7368", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:33:35.817857Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:33:35.819133Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4748cc77-6613-46d9-9924-7b8f877b7368", "status": "healthy"}
{"timestamp": "2025-09-29T12:33:35.821271Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "4748cc77-6613-46d9-9924-7b8f877b7368", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.26, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:34:05.911365Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9cfde97c-c864-4657-b75b-7fa1bf980377", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:34:05.933235Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:34:05.934754Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9cfde97c-c864-4657-b75b-7fa1bf980377", "status": "healthy"}
{"timestamp": "2025-09-29T12:34:05.936633Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "9cfde97c-c864-4657-b75b-7fa1bf980377", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.88, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:34:36.040618Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5afc0d65-5c28-40e3-b391-ed1a3fcbce1e", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:34:36.063161Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:34:36.064368Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5afc0d65-5c28-40e3-b391-ed1a3fcbce1e", "status": "healthy"}
{"timestamp": "2025-09-29T12:34:36.066109Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "5afc0d65-5c28-40e3-b391-ed1a3fcbce1e", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.24, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:35:06.175308Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d3905feb-9c67-4d46-8b92-6c7444798a55", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:35:06.196823Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:35:06.198131Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d3905feb-9c67-4d46-8b92-6c7444798a55", "status": "healthy"}
{"timestamp": "2025-09-29T12:35:06.200264Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "d3905feb-9c67-4d46-8b92-6c7444798a55", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 24.42, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:35:36.303810Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "daad7cf4-3024-4223-8e21-d776f7e4db34", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:35:36.326334Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:35:36.327733Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "daad7cf4-3024-4223-8e21-d776f7e4db34", "status": "healthy"}
{"timestamp": "2025-09-29T12:35:36.329528Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "daad7cf4-3024-4223-8e21-d776f7e4db34", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.66, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:36:06.436389Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fdcaf6e8-e2ac-48ce-81ed-12271afd0370", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:36:06.456523Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:36:06.457944Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fdcaf6e8-e2ac-48ce-81ed-12271afd0370", "status": "healthy"}
{"timestamp": "2025-09-29T12:36:06.459993Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fdcaf6e8-e2ac-48ce-81ed-12271afd0370", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 23.49, "response_size": 513, "content_type": "application/json", "endpoint": "health"}
{"timestamp": "2025-09-29T12:36:36.632289Z", "level": "INFO", "logger": "app.request", "message": "Request started: GET /api/health", "module": "loki_logger", "function": "log_request_start", "line": 367, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fad190db-7cd7-4c5b-9165-2100b44ce294", "operation": "request_start", "debug_process": "request_lifecycle", "debug_step": "request_received", "method": "GET", "path": "/api/health", "remote_addr": "127.0.0.1", "user_agent": "curl/8.14.1", "content_type": null, "content_length": null, "query_params": {}, "endpoint": "health"}
{"timestamp": "2025-09-29T12:36:36.654518Z", "level": "DEBUG", "logger": "models.database", "message": "Database health check passed", "module": "database", "function": "health_check", "line": 157, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0"}
{"timestamp": "2025-09-29T12:36:36.655937Z", "level": "DEBUG", "logger": "api.routes", "message": "Health check passed", "module": "routes", "function": "get", "line": 761, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fad190db-7cd7-4c5b-9165-2100b44ce294", "status": "healthy"}
{"timestamp": "2025-09-29T12:36:36.657473Z", "level": "INFO", "logger": "app.request", "message": "Request completed: GET /api/health - 200", "module": "loki_logger", "function": "log_request_end", "line": 418, "service": "hubspot_deals_pipeline_dev", "environment": "development", "version": "1.0.0", "request_id": "fad190db-7cd7-4c5b-9165-2100b44ce294", "operation": "request_end", "debug_process": "request_lifecycle", "debug_step": "response_sent", "method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 25.42, "response_size": 514, "content_type": "application/json", "endpoint": "health"}
